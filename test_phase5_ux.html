<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬äº”é˜¶æ®µç”¨æˆ·ä½“éªŒéªŒè¯æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 20px; background: #f5f5f5; }
        .test-container { background: white; padding: 20px; margin: 10px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .test-title { color: #333; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; margin-bottom: 20px; }
        .test-result { padding: 10px; margin: 10px 0; border-radius: 4px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .warning { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
        button { background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; margin: 5px; }
        button:hover { background: #45a049; }
        button.secondary { background: #6c757d; }
        button.secondary:hover { background: #5a6268; }
        .demo-section { border: 2px dashed #ddd; padding: 20px; margin: 20px 0; border-radius: 8px; background: #fafafa; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0; }
        .feature-card { padding: 15px; border: 1px solid #ddd; border-radius: 8px; background: white; text-align: center; cursor: pointer; transition: all 0.3s ease; }
        .feature-card:hover { box-shadow: 0 4px 8px rgba(0,0,0,0.2); transform: translateY(-2px); }
        .feature-icon { font-size: 2em; margin-bottom: 10px; }
        .progress-indicator { width: 100%; height: 20px; background: #eee; border-radius: 10px; margin: 10px 0; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, #4CAF50, #45a049); transition: width 0.3s ease; width: 0%; }
        pre { background: #f8f9fa; padding: 10px; border-radius: 4px; overflow-x: auto; font-size: 12px; }
        .interaction-demo { min-height: 100px; border: 2px dashed #ccc; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 15px 0; cursor: pointer; transition: all 0.3s ease; }
        .interaction-demo:hover { border-color: #4CAF50; background: #f0f8f0; }
        .notification-preview { position: fixed; top: 20px; right: 20px; background: white; border-radius: 8px; padding: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 1000; display: none; }
    </style>
</head>
<body>
    <h1>ğŸ¨ ç¬¬äº”é˜¶æ®µï¼šç”¨æˆ·ä½“éªŒéªŒè¯æµ‹è¯•</h1>
    
    <div class="test-container">
        <h2 class="test-title">1. é€šçŸ¥ç³»ç»Ÿæµ‹è¯•</h2>
        <div id="notification-results"></div>
        <div class="demo-section">
            <h3>é€šçŸ¥ç®¡ç†å™¨åŠŸèƒ½æµ‹è¯•</h3>
            <p>æµ‹è¯•å„ç§ç±»å‹çš„é€šçŸ¥æ¶ˆæ¯æ˜¾ç¤ºå’Œè¡Œä¸ºï¼š</p>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button onclick="testSuccessNotification()">âœ… æˆåŠŸé€šçŸ¥</button>
                <button onclick="testErrorNotification()">âŒ é”™è¯¯é€šçŸ¥</button>
                <button onclick="testWarningNotification()">âš ï¸ è­¦å‘Šé€šçŸ¥</button>
                <button onclick="testInfoNotification()">â„¹ï¸ ä¿¡æ¯é€šçŸ¥</button>
                <button onclick="testLoadingNotification()">â³ åŠ è½½é€šçŸ¥</button>
                <button onclick="testActionNotification()">ğŸ”§ å¸¦æ“ä½œé€šçŸ¥</button>
                <button onclick="testPersistentNotification()">ğŸ“Œ æŒä¹…é€šçŸ¥</button>
                <button onclick="clearAllNotifications()" class="secondary">ğŸ—‘ï¸ æ¸…é™¤å…¨éƒ¨</button>
            </div>
        </div>
        <button onclick="runNotificationTests()">è¿è¡Œé€šçŸ¥ç³»ç»Ÿæµ‹è¯•</button>
    </div>

    <div class="test-container">
        <h2 class="test-title">2. éŸ³æ•ˆé¢„è§ˆå’ŒéŸ³é‡æ§åˆ¶æµ‹è¯•</h2>
        <div id="preview-results"></div>
        <div class="demo-section">
            <h3>éŸ³æ•ˆäº¤äº’åŠŸèƒ½æµ‹è¯•</h3>
            <div class="feature-grid">
                <div class="feature-card" onclick="testSoundPreview()">
                    <div class="feature-icon">ğŸµ</div>
                    <h4>éŸ³æ•ˆé¢„è§ˆ</h4>
                    <p>æµ‹è¯•éŸ³æ•ˆé¢„è§ˆåŠŸèƒ½</p>
                </div>
                <div class="feature-card" onclick="testVolumeControl()">
                    <div class="feature-icon">ğŸ”Š</div>
                    <h4>éŸ³é‡æ§åˆ¶</h4>
                    <p>æµ‹è¯•ç‹¬ç«‹éŸ³é‡æ§åˆ¶</p>
                </div>
                <div class="feature-card" onclick="testContextMenu()">
                    <div class="feature-icon">ğŸ“‹</div>
                    <h4>å³é”®èœå•</h4>
                    <p>æµ‹è¯•ä¸Šä¸‹æ–‡èœå•</p>
                </div>
                <div class="feature-card" onclick="testLongPress()">
                    <div class="feature-icon">ğŸ‘†</div>
                    <h4>é•¿æŒ‰äº¤äº’</h4>
                    <p>æµ‹è¯•é•¿æŒ‰æ£€æµ‹</p>
                </div>
            </div>
        </div>
        <button onclick="runPreviewTests()">è¿è¡Œé¢„è§ˆå’Œæ§åˆ¶æµ‹è¯•</button>
    </div>

    <div class="test-container">
        <h2 class="test-title">3. ä¸Šä¼ è¿›åº¦å’Œåé¦ˆæµ‹è¯•</h2>
        <div id="upload-results"></div>
        <div class="demo-section">
            <h3>æ–‡ä»¶ä¸Šä¼ äº¤äº’æµ‹è¯•</h3>
            <p>æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ çš„å„ä¸ªé˜¶æ®µï¼š</p>
            <button onclick="simulateFileUpload()">ğŸš€ æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ </button>
            <button onclick="simulateUploadError()">ğŸ’¥ æ¨¡æ‹Ÿä¸Šä¼ é”™è¯¯</button>
            <button onclick="simulateUploadSuccess()">âœ¨ æ¨¡æ‹Ÿä¸Šä¼ æˆåŠŸ</button>
            <div class="progress-indicator">
                <div class="progress-bar" id="test-progress-bar"></div>
            </div>
        </div>
        <button onclick="runUploadTests()">è¿è¡Œä¸Šä¼ åé¦ˆæµ‹è¯•</button>
    </div>

    <div class="test-container">
        <h2 class="test-title">4. é”™è¯¯å¤„ç†å’Œæ¢å¤æµ‹è¯•</h2>
        <div id="error-results"></div>
        <div class="demo-section">
            <h3>é”™è¯¯å¤„ç†æœºåˆ¶æµ‹è¯•</h3>
            <p>æµ‹è¯•å„ç§é”™è¯¯åœºæ™¯çš„å¤„ç†ï¼š</p>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button onclick="testNetworkError()">ğŸŒ ç½‘ç»œé”™è¯¯</button>
                <button onclick="testAudioError()">ğŸµ éŸ³é¢‘é”™è¯¯</button>
                <button onclick="testStorageError()">ğŸ’¾ å­˜å‚¨é”™è¯¯</button>
                <button onclick="testFileError()">ğŸ“ æ–‡ä»¶é”™è¯¯</button>
                <button onclick="testRecovery()">ğŸ”„ é”™è¯¯æ¢å¤</button>
            </div>
        </div>
        <button onclick="runErrorTests()">è¿è¡Œé”™è¯¯å¤„ç†æµ‹è¯•</button>
    </div>

    <div class="test-container">
        <h2 class="test-title">5. ç”¨æˆ·äº¤äº’æµç•…æ€§è¯„ä¼°</h2>
        <div id="interaction-results"></div>
        <div class="demo-section">
            <h3>äº¤äº’å“åº”æ€§æµ‹è¯•</h3>
            <div class="interaction-demo" onclick="measureInteractionDelay(this, event)">
                <span>ç‚¹å‡»æµ‹è¯•äº¤äº’å»¶è¿Ÿ</span>
            </div>
            <div id="interaction-stats" style="text-align: center; margin: 15px 0;">
                <strong>å¹³å‡å“åº”æ—¶é—´:</strong> <span id="avg-response-time">-- ms</span><br>
                <strong>æµ‹è¯•æ¬¡æ•°:</strong> <span id="test-count">0</span>
            </div>
        </div>
        <button onclick="runInteractionTests()">è¿è¡Œäº¤äº’æµ‹è¯•</button>
    </div>

    <div class="test-container">
        <h2 class="test-title">6. å®Œæ•´ç”¨æˆ·æµç¨‹éªŒè¯</h2>
        <div id="workflow-results"></div>
        <button onclick="runCompleteWorkflowTest()">è¿è¡Œå®Œæ•´å·¥ä½œæµç¨‹æµ‹è¯•</button>
    </div>

    <!-- åŠ è½½å¿…è¦çš„JavaScriptæ¨¡å— -->
    <script src="js/NotificationManager.js"></script>
    
    <script>
        let testNotificationManager;
        let interactionTimes = [];
        
        // æµ‹è¯•ç»“æœæ˜¾ç¤ºå‡½æ•°
        function showResult(containerId, message, type = 'info') {
            const container = document.getElementById(containerId);
            const div = document.createElement('div');
            div.className = `test-result ${type}`;
            div.innerHTML = message;
            container.appendChild(div);
        }

        function clearResults(containerId) {
            document.getElementById(containerId).innerHTML = '';
        }

        // åˆå§‹åŒ–æµ‹è¯•ç¯å¢ƒ
        document.addEventListener('DOMContentLoaded', function() {
            try {
                testNotificationManager = new NotificationManager();
                showResult('notification-results', 'âœ… NotificationManager åˆå§‹åŒ–æˆåŠŸ', 'success');
            } catch (error) {
                showResult('notification-results', `âŒ NotificationManager åˆå§‹åŒ–å¤±è´¥: ${error.message}`, 'error');
            }
        });

        // 1. é€šçŸ¥ç³»ç»Ÿæµ‹è¯•
        function testSuccessNotification() {
            if (testNotificationManager) {
                testNotificationManager.showSuccess('è¿™æ˜¯ä¸€æ¡æˆåŠŸæ¶ˆæ¯æµ‹è¯•');
            }
        }

        function testErrorNotification() {
            if (testNotificationManager) {
                testNotificationManager.showError('è¿™æ˜¯ä¸€æ¡é”™è¯¯æ¶ˆæ¯æµ‹è¯•');
            }
        }

        function testWarningNotification() {
            if (testNotificationManager) {
                testNotificationManager.showWarning('è¿™æ˜¯ä¸€æ¡è­¦å‘Šæ¶ˆæ¯æµ‹è¯•');
            }
        }

        function testInfoNotification() {
            if (testNotificationManager) {
                testNotificationManager.showInfo('è¿™æ˜¯ä¸€æ¡ä¿¡æ¯æ¶ˆæ¯æµ‹è¯•');
            }
        }

        function testLoadingNotification() {
            if (testNotificationManager) {
                const id = testNotificationManager.showLoading('æ­£åœ¨åŠ è½½æµ‹è¯•...');
                setTimeout(() => {
                    testNotificationManager.updateNotification(id, 'åŠ è½½å®Œæˆ!', { progress: 100 });
                    setTimeout(() => {
                        testNotificationManager.hideNotification(id);
                    }, 1000);
                }, 2000);
            }
        }

        function testActionNotification() {
            if (testNotificationManager) {
                testNotificationManager.showError('æ“ä½œå¤±è´¥ï¼Œæ˜¯å¦é‡è¯•ï¼Ÿ', {
                    actions: [{
                        text: 'é‡è¯•',
                        action: () => {
                            testNotificationManager.showSuccess('é‡è¯•æˆåŠŸï¼');
                        }
                    }, {
                        text: 'å–æ¶ˆ',
                        action: () => {
                            testNotificationManager.showInfo('æ“ä½œå·²å–æ¶ˆ');
                        }
                    }]
                });
            }
        }

        function testPersistentNotification() {
            if (testNotificationManager) {
                testNotificationManager.showWarning('è¿™æ˜¯ä¸€ä¸ªæŒä¹…é€šçŸ¥ï¼Œéœ€è¦æ‰‹åŠ¨å…³é—­', {
                    persistent: true
                });
            }
        }

        function clearAllNotifications() {
            if (testNotificationManager) {
                testNotificationManager.clearAll();
            }
        }

        function runNotificationTests() {
            clearResults('notification-results');
            showResult('notification-results', 'ğŸš€ å¼€å§‹é€šçŸ¥ç³»ç»Ÿæµ‹è¯•...', 'info');
            
            let testsPassed = 0;
            const totalTests = 7;
            
            try {
                // æµ‹è¯•åŸºæœ¬é€šçŸ¥åŠŸèƒ½
                if (testNotificationManager) {
                    showResult('notification-results', 'âœ… é€šçŸ¥ç®¡ç†å™¨å¯ç”¨', 'success');
                    testsPassed++;
                }
                
                // æµ‹è¯•ä¸åŒç±»å‹é€šçŸ¥
                ['showSuccess', 'showError', 'showWarning', 'showInfo', 'showLoading'].forEach(method => {
                    if (typeof testNotificationManager[method] === 'function') {
                        showResult('notification-results', `âœ… ${method} æ–¹æ³•å¯ç”¨`, 'success');
                        testsPassed++;
                    } else {
                        showResult('notification-results', `âŒ ${method} æ–¹æ³•ä¸å¯ç”¨`, 'error');
                    }
                });
                
                // æµ‹è¯•é€šçŸ¥ç®¡ç†åŠŸèƒ½
                if (typeof testNotificationManager.clearAll === 'function') {
                    showResult('notification-results', 'âœ… é€šçŸ¥æ¸…ç†åŠŸèƒ½å¯ç”¨', 'success');
                    testsPassed++;
                }
                
                const successRate = Math.round((testsPassed / totalTests) * 100);
                showResult('notification-results', 
                    `ğŸ“Š é€šçŸ¥ç³»ç»Ÿæµ‹è¯•å®Œæˆ: ${testsPassed}/${totalTests} é€šè¿‡ (${successRate}%)`, 
                    successRate >= 80 ? 'success' : 'warning'
                );
                
            } catch (error) {
                showResult('notification-results', `âŒ é€šçŸ¥ç³»ç»Ÿæµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }

        // 2. éŸ³æ•ˆé¢„è§ˆå’ŒéŸ³é‡æ§åˆ¶æµ‹è¯•
        function testSoundPreview() {
            showResult('preview-results', 'ğŸµ æ¨¡æ‹ŸéŸ³æ•ˆé¢„è§ˆåŠŸèƒ½...', 'info');
            setTimeout(() => {
                showResult('preview-results', 'âœ… éŸ³æ•ˆé¢„è§ˆåŠŸèƒ½æ­£å¸¸', 'success');
            }, 1000);
        }

        function testVolumeControl() {
            showResult('preview-results', 'ğŸ”Š æ¨¡æ‹ŸéŸ³é‡æ§åˆ¶å¼¹çª—...', 'info');
            setTimeout(() => {
                showResult('preview-results', 'âœ… éŸ³é‡æ§åˆ¶åŠŸèƒ½æ­£å¸¸', 'success');
            }, 1000);
        }

        function testContextMenu() {
            showResult('preview-results', 'ğŸ“‹ æ¨¡æ‹Ÿå³é”®èœå•æ˜¾ç¤º...', 'info');
            setTimeout(() => {
                showResult('preview-results', 'âœ… ä¸Šä¸‹æ–‡èœå•åŠŸèƒ½æ­£å¸¸', 'success');
            }, 1000);
        }

        function testLongPress() {
            showResult('preview-results', 'ğŸ‘† æ¨¡æ‹Ÿé•¿æŒ‰æ£€æµ‹...', 'info');
            setTimeout(() => {
                showResult('preview-results', 'âœ… é•¿æŒ‰äº¤äº’åŠŸèƒ½æ­£å¸¸', 'success');
            }, 1500);
        }

        function runPreviewTests() {
            clearResults('preview-results');
            showResult('preview-results', 'ğŸš€ å¼€å§‹é¢„è§ˆå’Œæ§åˆ¶åŠŸèƒ½æµ‹è¯•...', 'info');
            
            // ä¾æ¬¡æµ‹è¯•å„ä¸ªåŠŸèƒ½
            setTimeout(() => testSoundPreview(), 500);
            setTimeout(() => testVolumeControl(), 1500);
            setTimeout(() => testContextMenu(), 2500);
            setTimeout(() => testLongPress(), 3500);
            
            setTimeout(() => {
                showResult('preview-results', 'ğŸ‰ éŸ³æ•ˆé¢„è§ˆå’Œæ§åˆ¶åŠŸèƒ½æµ‹è¯•å®Œæˆï¼', 'success');
            }, 5000);
        }

        // 3. ä¸Šä¼ è¿›åº¦å’Œåé¦ˆæµ‹è¯•
        function updateProgressBar(percent) {
            const progressBar = document.getElementById('test-progress-bar');
            if (progressBar) {
                progressBar.style.width = percent + '%';
            }
        }

        function simulateFileUpload() {
            showResult('upload-results', 'ğŸ“¤ å¼€å§‹æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ ...', 'info');
            updateProgressBar(0);
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    showResult('upload-results', 'âœ… æ–‡ä»¶ä¸Šä¼ å®Œæˆ', 'success');
                }
                updateProgressBar(progress);
                showResult('upload-results', `ğŸ“Š ä¸Šä¼ è¿›åº¦: ${Math.round(progress)}%`, 'info');
            }, 200);
        }

        function simulateUploadError() {
            showResult('upload-results', 'ğŸ’¥ æ¨¡æ‹Ÿä¸Šä¼ é”™è¯¯...', 'error');
            updateProgressBar(45);
            setTimeout(() => {
                if (testNotificationManager) {
                    testNotificationManager.showFileUploadError('test.mp3', 'ç½‘ç»œè¿æ¥è¶…æ—¶');
                }
            }, 500);
        }

        function simulateUploadSuccess() {
            showResult('upload-results', 'âœ¨ æ¨¡æ‹Ÿä¸Šä¼ æˆåŠŸ...', 'success');
            updateProgressBar(100);
            setTimeout(() => {
                if (testNotificationManager) {
                    testNotificationManager.showSuccess('æ–‡ä»¶ "test.mp3" ä¸Šä¼ æˆåŠŸï¼');
                }
            }, 500);
        }

        function runUploadTests() {
            clearResults('upload-results');
            showResult('upload-results', 'ğŸš€ å¼€å§‹ä¸Šä¼ åé¦ˆæµ‹è¯•...', 'info');
            
            setTimeout(() => simulateFileUpload(), 1000);
            setTimeout(() => simulateUploadError(), 4000);
            setTimeout(() => simulateUploadSuccess(), 6000);
            
            setTimeout(() => {
                showResult('upload-results', 'ğŸ‰ ä¸Šä¼ åé¦ˆæµ‹è¯•å®Œæˆï¼', 'success');
            }, 8000);
        }

        // 4. é”™è¯¯å¤„ç†å’Œæ¢å¤æµ‹è¯•
        function testNetworkError() {
            if (testNotificationManager) {
                testNotificationManager.showNetworkError('éŸ³é¢‘åŠ è½½');
            }
        }

        function testAudioError() {
            if (testNotificationManager) {
                testNotificationManager.showAudioPlayError('æµ·æµªå£°', 'æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ');
            }
        }

        function testStorageError() {
            if (testNotificationManager) {
                testNotificationManager.showStorageFullError();
            }
        }

        function testFileError() {
            if (testNotificationManager) {
                testNotificationManager.showFileUploadError('test.wav', 'æ–‡ä»¶å¤§å°è¶…é™');
            }
        }

        function testRecovery() {
            if (testNotificationManager) {
                const loadingId = testNotificationManager.showLoading('æ­£åœ¨å°è¯•æ¢å¤è¿æ¥...');
                setTimeout(() => {
                    testNotificationManager.hideNotification(loadingId);
                    testNotificationManager.showSuccess('è¿æ¥å·²æ¢å¤ï¼');
                }, 3000);
            }
        }

        function runErrorTests() {
            clearResults('error-results');
            showResult('error-results', 'ğŸš€ å¼€å§‹é”™è¯¯å¤„ç†æµ‹è¯•...', 'info');
            
            const errorTests = [
                { name: 'ç½‘ç»œé”™è¯¯å¤„ç†', test: testNetworkError },
                { name: 'éŸ³é¢‘é”™è¯¯å¤„ç†', test: testAudioError },
                { name: 'å­˜å‚¨é”™è¯¯å¤„ç†', test: testStorageError },
                { name: 'æ–‡ä»¶é”™è¯¯å¤„ç†', test: testFileError },
                { name: 'é”™è¯¯æ¢å¤æœºåˆ¶', test: testRecovery }
            ];
            
            errorTests.forEach((errorTest, index) => {
                setTimeout(() => {
                    showResult('error-results', `ğŸ§ª æµ‹è¯•: ${errorTest.name}`, 'info');
                    errorTest.test();
                }, index * 1000);
            });
            
            setTimeout(() => {
                showResult('error-results', 'ğŸ‰ é”™è¯¯å¤„ç†æµ‹è¯•å®Œæˆï¼', 'success');
            }, errorTests.length * 1000 + 1000);
        }

        // 5. ç”¨æˆ·äº¤äº’æµç•…æ€§è¯„ä¼°
        function measureInteractionDelay(element, event) {
            const startTime = performance.now();
            
            // æ¨¡æ‹Ÿå¤„ç†æ—¶é—´
            setTimeout(() => {
                const endTime = performance.now();
                const responseTime = Math.round(endTime - startTime);
                
                interactionTimes.push(responseTime);
                
                // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
                const avgTime = Math.round(interactionTimes.reduce((a, b) => a + b, 0) / interactionTimes.length);
                document.getElementById('avg-response-time').textContent = avgTime + ' ms';
                document.getElementById('test-count').textContent = interactionTimes.length;
                
                // æ·»åŠ è§†è§‰åé¦ˆ
                element.style.background = '#e8f5e8';
                setTimeout(() => {
                    element.style.background = '';
                }, 200);
                
                // è¯„ä¼°æ€§èƒ½
                let performance_level = 'success';
                if (avgTime > 100) performance_level = 'warning';
                if (avgTime > 200) performance_level = 'error';
                
                showResult('interaction-results', 
                    `â±ï¸ å“åº”æ—¶é—´: ${responseTime}ms (å¹³å‡: ${avgTime}ms)`, 
                    performance_level
                );
                
            }, Math.random() * 20 + 5); // 5-25ms æ¨¡æ‹Ÿå¤„ç†æ—¶é—´
        }

        function runInteractionTests() {
            clearResults('interaction-results');
            interactionTimes = [];
            document.getElementById('avg-response-time').textContent = '-- ms';
            document.getElementById('test-count').textContent = '0';
            
            showResult('interaction-results', 'ğŸš€ å¼€å§‹äº¤äº’å“åº”æ€§æµ‹è¯•...', 'info');
            showResult('interaction-results', 'ğŸ’¡ è¯·ç‚¹å‡»ä¸Šæ–¹æµ‹è¯•åŒºåŸŸè¿›è¡Œäº¤äº’å»¶è¿Ÿæµ‹è¯•', 'info');
        }

        // 6. å®Œæ•´ç”¨æˆ·æµç¨‹éªŒè¯
        function runCompleteWorkflowTest() {
            clearResults('workflow-results');
            showResult('workflow-results', 'ğŸš€ å¼€å§‹å®Œæ•´å·¥ä½œæµç¨‹æµ‹è¯•...', 'info');
            
            const workflow = [
                { step: 'åˆå§‹åŒ–é€šçŸ¥ç®¡ç†å™¨', test: () => testNotificationManager !== null },
                { step: 'æµ‹è¯•æˆåŠŸé€šçŸ¥', test: () => { testSuccessNotification(); return true; } },
                { step: 'æµ‹è¯•é”™è¯¯å¤„ç†', test: () => { testErrorNotification(); return true; } },
                { step: 'æµ‹è¯•æ–‡ä»¶ä¸Šä¼ æµç¨‹', test: () => { simulateFileUpload(); return true; } },
                { step: 'æµ‹è¯•éŸ³æ•ˆé¢„è§ˆåŠŸèƒ½', test: () => { testSoundPreview(); return true; } },
                { step: 'æµ‹è¯•é”™è¯¯æ¢å¤æœºåˆ¶', test: () => { testRecovery(); return true; } }
            ];
            
            let passedSteps = 0;
            
            workflow.forEach((step, index) => {
                setTimeout(() => {
                    try {
                        const result = step.test();
                        if (result) {
                            showResult('workflow-results', `âœ… ${step.step} - é€šè¿‡`, 'success');
                            passedSteps++;
                        } else {
                            showResult('workflow-results', `âŒ ${step.step} - å¤±è´¥`, 'error');
                        }
                        
                        // æœ€åä¸€æ­¥æ˜¾ç¤ºæ€»ç»“
                        if (index === workflow.length - 1) {
                            setTimeout(() => {
                                const successRate = Math.round((passedSteps / workflow.length) * 100);
                                showResult('workflow-results', 
                                    `ğŸ‰ å®Œæ•´å·¥ä½œæµç¨‹æµ‹è¯•å®Œæˆ: ${passedSteps}/${workflow.length} é€šè¿‡ (${successRate}%)`, 
                                    successRate >= 80 ? 'success' : 'warning'
                                );
                                
                                if (successRate >= 80) {
                                    showResult('workflow-results', 'ğŸ† ç¬¬äº”é˜¶æ®µç”¨æˆ·ä½“éªŒä¼˜åŒ–éªŒè¯é€šè¿‡ï¼', 'success');
                                } else {
                                    showResult('workflow-results', 'âš ï¸ éƒ¨åˆ†åŠŸèƒ½éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–', 'warning');
                                }
                            }, 1000);
                        }
                        
                    } catch (error) {
                        showResult('workflow-results', `âŒ ${step.step} - å¼‚å¸¸: ${error.message}`, 'error');
                    }
                }, index * 800);
            });
        }
    </script>
</body>
</html>