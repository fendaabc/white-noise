/* ===== å¢å¼ºç‰ˆè®¾è®¡ä»¤ç‰Œç³»ç»Ÿ ===== */
:root {
    /* === æ·±é‚ƒåŸºè°ƒè‰²å½©ç³»ç»Ÿ === */
    --primary-deep: #1a1d29;
    --primary-medium: #252936;
    --primary-light: #2f3349;
    --primary-lighter: #3a3f5c;
    
    /* === æ²‰æµ¸å¼æ¸å˜èƒŒæ™¯ === */
    --bg-gradient-primary: linear-gradient(135deg, 
        #1a1d29 0%, 
        #252936 25%, 
        #2f3349 50%, 
        #1e2a3a 75%, 
        #1a1d29 100%);
    
    --bg-gradient-flow: linear-gradient(135deg,
        #1a1d29 0%,
        #252936 20%,
        #2f3349 40%,
        #1e2a3a 60%,
        #252936 80%,
        #1a1d29 100%);
    
    /* === éŸ³æ•ˆä¸»é¢˜è‰²å½© === */
    --rain-theme: linear-gradient(135deg, #4a6fa5 0%, #2c5282 100%);
    --rain-ambient: #4a6fa5;
    --rain-glow: rgba(74, 111, 165, 0.3);
    
    --waves-theme: linear-gradient(135deg, #2d7dd2 0%, #1a5490 100%);
    --waves-ambient: #2d7dd2;
    --waves-glow: rgba(45, 125, 210, 0.3);
    
    --fire-theme: linear-gradient(135deg, #d69e2e 0%, #b7791f 100%);
    --fire-ambient: #d69e2e;
    --fire-glow: rgba(214, 158, 46, 0.3);
    
    --forest-theme: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
    --forest-ambient: #38a169;
    --forest-glow: rgba(56, 161, 105, 0.3);
    
    --cafe-theme: linear-gradient(135deg, #c05621 0%, #9c4221 100%);
    --cafe-ambient: #c05621;
    --cafe-glow: rgba(192, 86, 33, 0.3);
    
    /* === æ¯›ç»ç’ƒæ•ˆæœç³»ç»Ÿ === */
    --glass-light: rgba(255, 255, 255, 0.08);
    --glass-medium: rgba(255, 255, 255, 0.12);
    --glass-heavy: rgba(255, 255, 255, 0.16);
    --glass-ultra: rgba(255, 255, 255, 0.20);
    
    --glass-border-light: rgba(255, 255, 255, 0.1);
    --glass-border-medium: rgba(255, 255, 255, 0.15);
    --glass-border-heavy: rgba(255, 255, 255, 0.2);
    
    /* === å‘å…‰æ•ˆæœç³»ç»Ÿ === */
    --glow-soft: 0 0 20px rgba(255, 255, 255, 0.08);
    --glow-medium: 0 0 30px rgba(255, 255, 255, 0.12);
    --glow-strong: 0 0 40px rgba(255, 255, 255, 0.16);
    --glow-intense: 0 0 60px rgba(255, 255, 255, 0.2);
    
    /* === é˜´å½±å±‚æ¬¡ç³»ç»Ÿ === */
    --shadow-float: 0 8px 32px rgba(0, 0, 0, 0.3);
    --shadow-elevated: 0 16px 48px rgba(0, 0, 0, 0.4);
    --shadow-deep: 0 24px 64px rgba(0, 0, 0, 0.5);
    --shadow-profound: 0 32px 80px rgba(0, 0, 0, 0.6);
    
    /* === å­—ä½“ç³»ç»Ÿ === */
    --font-primary: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 
                    'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', 
                 'Courier New', monospace;
    
    /* å­—ä½“å¤§å° */
    --text-xs: 0.75rem;    /* 12px */
    --text-sm: 0.875rem;   /* 14px */
    --text-base: 1rem;     /* 16px */
    --text-lg: 1.125rem;   /* 18px */
    --text-xl: 1.25rem;    /* 20px */
    --text-2xl: 1.5rem;    /* 24px */
    --text-3xl: 1.875rem;  /* 30px */
    --text-4xl: 2.25rem;   /* 36px */
    
    /* å­—é‡ç³»ç»Ÿ */
    --font-thin: 100;
    --font-light: 300;
    --font-normal: 400;
    --font-medium: 500;
    --font-semibold: 600;
    --font-bold: 700;
    
    /* è¡Œé«˜ç³»ç»Ÿ */
    --leading-tight: 1.25;
    --leading-normal: 1.5;
    --leading-relaxed: 1.75;
    
    /* === æ–‡æœ¬è‰²å½©ç³»ç»Ÿ === */
    --text-primary: rgba(255, 255, 255, 0.95);
    --text-secondary: rgba(255, 255, 255, 0.75);
    --text-tertiary: rgba(255, 255, 255, 0.55);
    --text-disabled: rgba(255, 255, 255, 0.35);
    
    /* === åŠ¨ç”»ç¼“åŠ¨ç³»ç»Ÿ === */
    --ease-natural: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ease-gentle: cubic-bezier(0.25, 0.1, 0.25, 1);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-back: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    
    /* === åŠ¨ç”»æ—¶é•¿ç³»ç»Ÿ === */
    --duration-instant: 0.1s;
    --duration-fast: 0.2s;
    --duration-normal: 0.3s;
    --duration-slow: 0.5s;
    --duration-slower: 0.8s;
    --duration-slowest: 1.2s;
    
    /* === åœ†è§’ç³»ç»Ÿ === */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-2xl: 24px;
    --radius-full: 50%;
    
    /* === é—´è·ç³»ç»Ÿ === */
    --space-xs: 0.25rem;   /* 4px */
    --space-sm: 0.5rem;    /* 8px */
    --space-md: 0.75rem;   /* 12px */
    --space-lg: 1rem;      /* 16px */
    --space-xl: 1.5rem;    /* 24px */
    --space-2xl: 2rem;     /* 32px */
    --space-3xl: 3rem;     /* 48px */
    --space-4xl: 4rem;     /* 64px */
    
    /* === å£°éŸ³æŒ‰é’®å¸ƒå±€ç³»ç»Ÿ === */
    --sound-btn-count: 7;  /* å½“å‰å£°éŸ³æŒ‰é’®æ•°é‡ */
    --sound-btn-width: 110px; /* é»˜è®¤æŒ‰é’®å®½åº¦ */
    --sound-btn-gap: var(--space-md); /* æŒ‰é’®é—´è· */
    
    /* è®¡ç®—çš„å®¹å™¨å®½åº¦ï¼šæŒ‰é’®æ•°é‡ Ã— å®½åº¦ + (æ•°é‡-1) Ã— é—´è· + å†…è¾¹è· */
    --sound-container-width: calc(var(--sound-btn-count) * var(--sound-btn-width) + (var(--sound-btn-count) - 1) * var(--sound-btn-gap) + 2 * var(--space-lg));
    
    /* === åŠŸèƒ½è‰²å½© === */
    --success-color: #38a169;
    --success-glow: rgba(56, 161, 105, 0.3);
    --warning-color: #d69e2e;
    --warning-glow: rgba(214, 158, 46, 0.3);
    --error-color: #e53e3e;
    --error-glow: rgba(229, 62, 62, 0.3);
    --info-color: #3182ce;
    --info-glow: rgba(49, 130, 206, 0.3);
    
    /* === å…¼å®¹æ€§å˜é‡ï¼ˆä¿æŒå‘åå…¼å®¹ï¼‰ === */
    --primary-color: var(--primary-medium);
    --secondary-color: var(--primary-light);
    --background-color: var(--primary-deep);
    --text-color: var(--text-primary);
    --accent-color: var(--forest-ambient);
    --shadow-color: rgba(0, 0, 0, 0.3);
    --border-radius: var(--radius-md);
    --transition: all var(--duration-normal) var(--ease-natural);
}

/* === æ·±è‰²æ¨¡å¼é€‚é… === */
@media (prefers-color-scheme: dark) {
    :root {
        /* æ·±è‰²æ¨¡å¼ä¸‹å¢å¼ºå¯¹æ¯”åº¦ */
        --glass-light: rgba(255, 255, 255, 0.1);
        --glass-medium: rgba(255, 255, 255, 0.15);
        --glass-heavy: rgba(255, 255, 255, 0.2);
        --glass-ultra: rgba(255, 255, 255, 0.25);
        
        --text-primary: rgba(255, 255, 255, 0.98);
        --text-secondary: rgba(255, 255, 255, 0.85);
    }
}

/* === é«˜å¯¹æ¯”åº¦æ¨¡å¼é€‚é… === */
@media (prefers-contrast: high) {
    :root {
        --glass-light: rgba(255, 255, 255, 0.15);
        --glass-medium: rgba(255, 255, 255, 0.2);
        --glass-heavy: rgba(255, 255, 255, 0.25);
        --glass-ultra: rgba(255, 255, 255, 0.3);
        
        --text-primary: rgba(255, 255, 255, 1);
        --text-secondary: rgba(255, 255, 255, 0.9);
        
        --shadow-float: 0 8px 32px rgba(0, 0, 0, 0.5);
        --shadow-elevated: 0 16px 48px rgba(0, 0, 0, 0.6);
        --shadow-deep: 0 24px 64px rgba(0, 0, 0, 0.7);
    }
}

/* === å‡å°‘åŠ¨ç”»åå¥½é€‚é… === */
@media (prefers-reduced-motion: reduce) {
    :root {
        --duration-instant: 0.01ms;
        --duration-fast: 0.01ms;
        --duration-normal: 0.01ms;
        --duration-slow: 0.01ms;
        --duration-slower: 0.01ms;
        --duration-slowest: 0.01ms;
    }
}

/* åŸºç¡€é‡ç½®å’Œå…¨å±€æ ·å¼ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    font-family: var(--font-primary);
    /* background: var(--bg-gradient-primary); */
    color: var(--text-primary);
    overflow-x: hidden;
    font-weight: var(--font-normal);
    line-height: var(--leading-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ===== æ·±é‚ƒæ²‰æµ¸å¼èƒŒæ™¯ç³»ç»Ÿ ===== */

/* å…¨å±èƒŒæ™¯å®¹å™¨ */
#background-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: var(--bg-gradient-flow);
    background-size: 400% 400%;
    animation: backgroundFlow 25s var(--ease-natural) infinite;
    transition: background var(--duration-slower) var(--ease-gentle);
}

/* èƒŒæ™¯å›¾ç‰‡è½®æ’­ */
.background-slideshow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}

.background-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0;
    transition: opacity var(--duration-slowest) var(--ease-gentle);
}

.background-slide.active {
    opacity: 0.3; /* è®©èƒŒæ™¯å›¾ç‰‡åŠé€æ˜ï¼Œä¿æŒæ¯›ç»ç’ƒæ•ˆæœ */
}

/* èƒŒæ™¯æ¸å˜è¦†ç›–å±‚ */
.background-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
    background: var(--bg-gradient-flow);
    background-size: 400% 400%;
    animation: backgroundFlow 25s var(--ease-natural) infinite;
    opacity: 0.8; /* ä¿æŒæ¸å˜æ•ˆæœä½†å…è®¸èƒŒæ™¯å›¾ç‰‡é€è¿‡ */
}

/* èƒŒæ™¯å±‚å ç³»ç»Ÿ */
#background-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(255, 255, 255, 0.02) 0%, transparent 50%);
    animation: float 15s var(--ease-natural) infinite;
}

#background-container::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.01) 50%, transparent 70%);
    animation: float 20s var(--ease-natural) infinite reverse;
}

/* éŸ³æ•ˆä¸»é¢˜èƒŒæ™¯ç±» */
.bg-rain {
    background: linear-gradient(135deg,
        #1a1d29 0%,
        #2c3e50 20%,
        #34495e 40%,
        #2c5282 60%,
        #1a365d 80%,
        #1a1d29 100%) !important;
}

.bg-waves {
    background: linear-gradient(135deg,
        #1a1d29 0%,
        #1e3a8a 20%,
        #1e40af 40%,
        #2563eb 60%,
        #1d4ed8 80%,
        #1a1d29 100%) !important;
}

.bg-fire {
    background: linear-gradient(135deg,
        #1a1d29 0%,
        #92400e 20%,
        #b45309 40%,
        #d97706 60%,
        #f59e0b 80%,
        #1a1d29 100%) !important;
}

.bg-forest {
    background: linear-gradient(135deg,
        #1a1d29 0%,
        #14532d 20%,
        #166534 40%,
        #15803d 60%,
        #16a34a 80%,
        #1a1d29 100%) !important;
}

.bg-cafe {
    background: linear-gradient(135deg,
        #1a1d29 0%,
        #7c2d12 20%,
        #9a3412 40%,
        #c2410c 60%,
        #ea580c 80%,
        #1a1d29 100%) !important;
}

/* æ–°å¢ä¸»é¢˜ï¼šç™½å™ªéŸ³ä¸é£å£° */
.bg-white-noise {
    background: linear-gradient(135deg,
        #1a1d29 0%,
        #334155 20%,
        #475569 40%,
        #64748b 60%,
        #94a3b8 80%,
        #1a1d29 100%) !important;
}

.bg-wind {
    background: linear-gradient(135deg,
        #1a1d29 0%,
        #0f766e 20%,
        #0891b2 40%,
        #06b6d4 60%,
        #22d3ee 80%,
        #1a1d29 100%) !important;
}

/* å¾®å¦™çš„ç²’å­æ•ˆæœ */
.particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    opacity: 0.1;
}

.particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    animation: particleFloat 8s linear infinite;
}

.particle:nth-child(1) { left: 10%; animation-delay: 0s; }
.particle:nth-child(2) { left: 20%; animation-delay: 1s; }
.particle:nth-child(3) { left: 30%; animation-delay: 2s; }
.particle:nth-child(4) { left: 40%; animation-delay: 3s; }
.particle:nth-child(5) { left: 50%; animation-delay: 4s; }
.particle:nth-child(6) { left: 60%; animation-delay: 5s; }
.particle:nth-child(7) { left: 70%; animation-delay: 6s; }
.particle:nth-child(8) { left: 80%; animation-delay: 7s; }
.particle:nth-child(9) { left: 90%; animation-delay: 8s; }

@keyframes particleFloat {
    0% {
        transform: translateY(100vh) scale(0);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-10vh) scale(1);
        opacity: 0;
    }
}

/* ===== æ ¸å¿ƒåŠ¨ç”»å…³é”®å¸§ç³»ç»Ÿ ===== */

/* èƒŒæ™¯æµåŠ¨åŠ¨ç”» */
@keyframes backgroundFlow {
    0% { background-position: 0% 50%; }
    25% { background-position: 100% 25%; }
    50% { background-position: 50% 100%; }
    75% { background-position: 25% 0%; }
    100% { background-position: 0% 50%; }
}

/* æµ®ç°åŠ¨ç”» */
@keyframes materialise {
    0% {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
        filter: blur(10px);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
    }
}

/* å‘¼å¸åŠ¨ç”» */
@keyframes breathe {
    0%, 100% {
        transform: scale(1);
        box-shadow: var(--glow-soft);
    }
    50% {
        transform: scale(1.02);
        box-shadow: var(--glow-medium);
    }
}

/* æ¶Ÿæ¼ªæ•ˆæœ */
@keyframes ripple {
    0% {
        transform: scale(0);
        opacity: 1;
    }
    100% {
        transform: scale(4);
        opacity: 0;
    }
}

/* è„‰åŠ¨å‘å…‰ */
@keyframes pulse {
    0%, 100% {
        box-shadow: var(--glow-soft);
    }
    50% {
        box-shadow: var(--glow-strong);
    }
}

/* æ—‹è½¬åŠ¨ç”» */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* æ¸å…¥åŠ¨ç”» */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ä¸Šæ»‘åŠ¨ç”» */
@keyframes slideUp {
    from {
        transform: translateY(30px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* ä¸‹æ»‘åŠ¨ç”» */
@keyframes slideDown {
    from {
        transform: translateX(-50%) translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
    }
}

/* æµ®åŠ¨åŠ¨ç”» */
@keyframes float {
    0%, 100% { 
        transform: translateY(0px) rotate(0deg); 
    }
    33% { 
        transform: translateY(-10px) rotate(2deg); 
    }
    66% { 
        transform: translateY(5px) rotate(-1deg); 
    }
}

/* ===== æ¶Ÿæ¼ªæ•ˆæœç³»ç»Ÿ ===== */

/* æ¶Ÿæ¼ªæ•ˆæœå…ƒç´  */
.ripple-effect {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(255, 255, 255, 0.6);
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    pointer-events: none;
    z-index: 1;
}

/* æ¶Ÿæ¼ªåŠ¨ç”» */
.ripple-effect.ripple-animate {
    animation: rippleExpand var(--duration-slower) var(--ease-natural);
}

@keyframes rippleExpand {
    0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 1;
    }
    50% {
        opacity: 0.8;
    }
    100% {
        transform: translate(-50%, -50%) scale(25);
        opacity: 0;
    }
}

/* ä¸åŒå¤§å°çš„æ¶Ÿæ¼ªæ•ˆæœ */
.ripple-small .ripple-effect.ripple-animate {
    animation: rippleExpandSmall var(--duration-normal) var(--ease-natural);
}

@keyframes rippleExpandSmall {
    0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 1;
    }
    100% {
        transform: translate(-50%, -50%) scale(15);
        opacity: 0;
    }
}

.ripple-large .ripple-effect.ripple-animate {
    animation: rippleExpandLarge var(--duration-slowest) var(--ease-natural);
}

@keyframes rippleExpandLarge {
    0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 1;
    }
    100% {
        transform: translate(-50%, -50%) scale(35);
        opacity: 0;
    }
}

/* ä¸»å®¹å™¨ - ä¼˜åŒ–å•å±ä½“éªŒ */
.main-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: var(--space-md) var(--space-xl);
    position: relative;
    animation: materialise var(--duration-slower) var(--ease-gentle);
    gap: var(--space-md);
    max-width: 1300px; /* å¢åŠ ä»¥å®¹çº³æ›´å®½çš„å£°éŸ³é€‰æ‹©å™¨ */
    margin: 0 auto;
    transition: all var(--duration-normal) var(--ease-natural);
}

/* å“åº”å¼è°ƒæ•´ä¸»å®¹å™¨é—´è· */
@media (max-height: 700px) {
    .main-container {
        gap: var(--space-md);
        padding: var(--space-md) var(--space-lg);
    }
}

@media (max-height: 600px) {
    .main-container {
        gap: var(--space-sm);
        padding: var(--space-sm) var(--space-md);
    }
}

/* åº”ç”¨æ ‡é¢˜ */
.app-title {
    font-family: var(--font-primary);
    font-weight: var(--font-light);
    font-size: var(--text-4xl);
    color: var(--text-primary);
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.1em;
    margin: 0 0 var(--space-sm) 0;
    animation: materialise var(--duration-slower) var(--ease-gentle) 0.2s both;
}

/* ===== ä¸»æ’­æ”¾æŒ‰é’®æ¯›ç»ç’ƒé£æ ¼ ===== */
.play-button {
    /* åŸºç¡€å°ºå¯¸å’Œå½¢çŠ¶ */
    width: 120px;
    height: 120px;
    border-radius: var(--radius-full);
    border: 1px solid var(--glass-border-medium);
    
    /* æ¯›ç»ç’ƒæ•ˆæœ */
    background: var(--glass-medium);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    
    /* æ–‡å­—æ ·å¼ */
    color: var(--text-primary);
    font-family: var(--font-primary);
    font-size: var(--text-lg);
    font-weight: var(--font-medium);
    
    /* é˜´å½±å±‚æ¬¡ */
    box-shadow: 
        var(--shadow-float),
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        inset 0 -1px 0 rgba(0, 0, 0, 0.1);
    
    /* äº¤äº’å’ŒåŠ¨ç”» */
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    position: relative;
    overflow: hidden;
    
    /* å¸ƒå±€ */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
    
    /* å…¥åœºåŠ¨ç”» */
    animation: materialise var(--duration-slower) var(--ease-gentle) 0.6s both;
}

/* æ— éšœç¢æ€§ï¼šä¸»æ’­æ”¾æŒ‰é’®ç„¦ç‚¹çŠ¶æ€ */
.play-button:focus {
    outline: 3px solid var(--accent-color);
    outline-offset: 4px;
    box-shadow: 
        var(--shadow-float),
        0 0 0 3px rgba(76, 175, 80, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        inset 0 -1px 0 rgba(0, 0, 0, 0.1);
}

/* æ‚¬åœæ•ˆæœ */
.play-button:hover {
    transform: scale(1.05);
    background: var(--glass-heavy);
    border-color: var(--glass-border-heavy);
    box-shadow: 
        var(--shadow-elevated),
        var(--glow-medium),
        inset 0 1px 0 rgba(255, 255, 255, 0.15),
        inset 0 -1px 0 rgba(0, 0, 0, 0.1);
}

/* æŒ‰å‹æ•ˆæœ */
.play-button:active {
    transform: scale(0.98);
    transition-duration: var(--duration-fast);
    box-shadow: 
        var(--shadow-float),
        inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* æ’­æ”¾çŠ¶æ€ */
.play-button.playing {
    background: var(--glass-ultra);
    border-color: var(--glass-border-heavy);
    animation: breathe 3s var(--ease-natural) infinite;
    box-shadow: 
        var(--shadow-elevated),
        var(--glow-strong),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* åŠ è½½ä¸­çŠ¶æ€ */
.play-button.loading {
    pointer-events: none; /* é˜²æ­¢é‡å¤ç‚¹å‡» */
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
    animation: spin 1s linear infinite;
    box-shadow: 
        var(--shadow-elevated),
        var(--glow-medium),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    cursor: not-allowed;
}

/* æ—‹è½¬åŠ¨ç”» */
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* æ¶Ÿæ¼ªæ•ˆæœå®¹å™¨ */
.play-button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: all var(--duration-normal) var(--ease-natural);
    pointer-events: none;
}

/* ç‚¹å‡»æ—¶çš„æ¶Ÿæ¼ªæ•ˆæœ */
.play-button.ripple::before {
    width: 200px;
    height: 200px;
    opacity: 0;
    transition: all var(--duration-slow) var(--ease-natural);
}

/* ===== éŸ³æ•ˆé€‰æ‹©å™¨æµ®åŠ¨å¡ç‰‡è®¾è®¡ ===== */
.sound-selector {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: var(--space-xl);
    max-width: 600px;
    width: 100%;
    margin-bottom: var(--space-2xl);
    animation: materialise var(--duration-slower) var(--ease-gentle) 0.4s both;
}

/* ===== æ°´å¹³æ»šåŠ¨å£°éŸ³é€‰æ‹©å™¨ ===== */
.sound-selector-horizontal {
    position: relative;
    width: 100%;
    max-width: 900px; /* å¢åŠ æœ€å¤§å®½åº¦ä»¥å®¹çº³7ä¸ªå›¾æ ‡ */
    animation: materialise var(--duration-slower) var(--ease-gentle) 0.4s both;
    transition: all var(--duration-normal) var(--ease-natural);
}

/* å£°éŸ³åˆ—è¡¨å®¹å™¨ - æ°´å¹³æ»šåŠ¨ */
.sound-list-container {
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
    scroll-behavior: smooth;
    padding: var(--space-sm) 0;
    
    /* å¢å¼ºè§¦æ‘¸æ»šåŠ¨ä½“éªŒ */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-x: contain;
    
    /* ç¡®ä¿åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½èƒ½æ°´å¹³æ»šåŠ¨ */
    white-space: nowrap;
}

/* éšè—Webkitæµè§ˆå™¨çš„æ»šåŠ¨æ¡ */
.sound-list-container::-webkit-scrollbar {
    display: none;
    width: 0;
    height: 0;
}

/* ç¡®ä¿åœ¨æ—§ç‰ˆæµè§ˆå™¨ä¸­ä¹Ÿéšè—æ»šåŠ¨æ¡ */
.sound-list-container::-webkit-scrollbar-track {
    background: transparent;
}

.sound-list-container::-webkit-scrollbar-thumb {
    background: transparent;
}

/* å£°éŸ³åˆ—è¡¨ - Flexboxå¸ƒå±€ */
.sound-list {
    display: flex;
    display: -webkit-flex; /* Safari */
    gap: var(--sound-btn-gap); /* ä½¿ç”¨CSSå˜é‡æ§åˆ¶é—´è· */
    padding: 0 var(--space-md);
    align-items: center;
    -webkit-align-items: center; /* Safari */
    justify-content: center; /* å±…ä¸­å¯¹é½7ä¸ªå›¾æ ‡ */
    -webkit-justify-content: center;
    
    /* ç¡®ä¿ä¸æ¢è¡Œ */
    flex-wrap: nowrap;
    -webkit-flex-wrap: nowrap;
    
    /* é‡ç½®white-spaceä»¥å…è®¸flexé¡¹ç›®æ­£å¸¸æ˜¾ç¤º */
    white-space: normal;
}

/* 7ä¸ªå£°éŸ³æŒ‰é’®çš„å®Œç¾é€‚é…å¸ƒå±€ */
.sound-list {
    /* 
     * å½“å‰é…ç½®ä¸º7ä¸ªå£°éŸ³æŒ‰é’®çš„å®Œç¾é€‚é…ï¼š
     * - 7ä¸ªæŒ‰é’® Ã— 110px = 770px
     * - 6ä¸ªé—´è· Ã— 12px = 72px  
     * - å·¦å³å†…è¾¹è· Ã— 2 Ã— 16px = 32px
     * - æ€»è®¡ï¼š874pxï¼Œåœ¨900pxå®¹å™¨å†…å®Œç¾é€‚é…
     * 
     * å¦‚æœå°†æ¥éœ€è¦æ·»åŠ æ›´å¤šæŒ‰é’®ï¼Œæ°´å¹³æ»šåŠ¨ä¼šè‡ªåŠ¨å¯ç”¨
     */
    justify-content: space-evenly; /* å‡åŒ€åˆ†å¸ƒæ‰€æœ‰æŒ‰é’® */
    -webkit-justify-content: space-evenly;
}

/* å½“å£°éŸ³æ•°é‡ä¸º7ä¸ªæ—¶çš„ç²¾ç¡®å¸ƒå±€ */
.sound-list:has(.sound-btn:nth-child(7):last-child) {
    justify-content: space-evenly;
    -webkit-justify-content: space-evenly;
    padding: 0 var(--space-lg);
}

/* ä¸ºä¸æ”¯æŒ:has()çš„æµè§ˆå™¨æä¾›å›é€€ */
@supports not selector(:has(*)) {
    .sound-list {
        justify-content: space-evenly;
        -webkit-justify-content: space-evenly;
        padding: 0 var(--space-lg);
    }
}

/* æ»šåŠ¨æŒ‡ç¤ºå™¨ */
.scroll-indicator {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 40px;
    pointer-events: none;
    z-index: 10;
    opacity: 0;
    transition: opacity var(--duration-normal) var(--ease-natural);
}

.scroll-indicator-left {
    left: 0;
    background: linear-gradient(to right, 
        rgba(26, 29, 41, 0.8) 0%, 
        transparent 100%);
}

.scroll-indicator-right {
    right: 0;
    background: linear-gradient(to left, 
        rgba(26, 29, 41, 0.8) 0%, 
        transparent 100%);
}

/* æ˜¾ç¤ºæ»šåŠ¨æŒ‡ç¤ºå™¨ */
.scroll-indicator.visible {
    opacity: 1;
    animation: fadeInGently var(--duration-normal) var(--ease-natural);
}

/* ä¼˜é›…æ·¡å…¥åŠ¨ç”» */
@keyframes fadeInGently {
    0% {
        opacity: 0;
        transform: scale(0.95);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

/* éŸ³æ•ˆæŒ‰é’®åºåˆ—åŠ¨ç”» - æ°´å¹³å¸ƒå±€ä¼˜åŒ– */
.sound-list .sound-btn:nth-child(1) { animation: slideInFromLeft var(--duration-slower) var(--ease-gentle) 0.1s both; }
.sound-list .sound-btn:nth-child(2) { animation: slideInFromLeft var(--duration-slower) var(--ease-gentle) 0.2s both; }
.sound-list .sound-btn:nth-child(3) { animation: slideInFromLeft var(--duration-slower) var(--ease-gentle) 0.3s both; }
.sound-list .sound-btn:nth-child(4) { animation: slideInFromLeft var(--duration-slower) var(--ease-gentle) 0.4s both; }
.sound-list .sound-btn:nth-child(5) { animation: slideInFromLeft var(--duration-slower) var(--ease-gentle) 0.5s both; }
.sound-list .sound-btn:nth-child(6) { animation: slideInFromLeft var(--duration-slower) var(--ease-gentle) 0.6s both; }
.sound-list .sound-btn:nth-child(7) { animation: slideInFromLeft var(--duration-slower) var(--ease-gentle) 0.7s both; }

/* æ°´å¹³æ»‘å…¥åŠ¨ç”» */
@keyframes slideInFromLeft {
    0% {
        opacity: 0;
        transform: translateX(-30px) scale(0.9);
        filter: blur(5px);
    }
    100% {
        opacity: 1;
        transform: translateX(0) scale(1);
        filter: blur(0);
    }
}

.sound-btn {
    /* åŸºç¡€å¸ƒå±€ */
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-xl) var(--space-lg);
    
    /* æ— éšœç¢æ€§ï¼šç¡®ä¿æœ€å°è§¦æ§åŒºåŸŸ 44x44pt */
    min-height: 44px;
    min-width: 44px;
    
    /* æ°´å¹³å¸ƒå±€ä¸­çš„å›ºå®šå°ºå¯¸ - ä¼˜åŒ–ä¸º7ä¸ªå›¾æ ‡ */
    width: var(--sound-btn-width); /* ä½¿ç”¨CSSå˜é‡ */
    min-width: var(--sound-btn-width);
    flex-shrink: 0;
    
    /* æ¯›ç»ç’ƒå¡ç‰‡æ•ˆæœ */
    background: var(--glass-light);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-lg);
    
    /* æµ®åŠ¨é˜´å½±æ•ˆæœ */
    box-shadow: var(--shadow-float);
    
    /* äº¤äº’æ ·å¼ */
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    position: relative;
    overflow: hidden;
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
}

/* æ— éšœç¢æ€§ï¼šé”®ç›˜ç„¦ç‚¹çŠ¶æ€ */
.sound-btn:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
    box-shadow: 
        var(--shadow-float),
        0 0 0 2px var(--accent-color);
}

/* é«˜å¯¹æ¯”åº¦æ¨¡å¼ä¸‹çš„ç„¦ç‚¹çŠ¶æ€ */
@media (prefers-contrast: high) {
    .sound-btn:focus {
        outline: 3px solid var(--accent-color);
        outline-offset: 3px;
    }
}

/* æ’­æ”¾æŒ‡ç¤ºå™¨ */
.play-indicator {
    position: absolute;
    top: var(--space-sm);
    right: var(--space-sm);
    width: 20px;
    height: 20px;
    background: var(--glass-medium);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    color: var(--text-secondary);
    opacity: 0;
    transform: scale(0.8);
    transition: all var(--duration-normal) var(--ease-natural);
}

.sound-btn:hover .play-indicator {
    opacity: 1;
    transform: scale(1);
}

.sound-btn.playing .play-indicator {
    opacity: 1;
    transform: scale(1);
    background: var(--glass-heavy);
    color: var(--text-primary);
    animation: pulse 2s var(--ease-natural) infinite;
}

.sound-btn.playing .play-indicator::before {
    content: 'â¸';
}

/* æ‚¬åœæ•ˆæœ */
.sound-btn:hover {
    transform: translateY(-4px) scale(1.02);
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
    box-shadow: var(--shadow-elevated);
    animation: gentleGlow 2s var(--ease-natural) infinite;
}

/* å¾®å¦™å‘å…‰åŠ¨ç”» */
@keyframes gentleGlow {
    0%, 100% {
        box-shadow: var(--shadow-elevated);
    }
    50% {
        box-shadow: 
            var(--shadow-elevated),
            0 0 15px rgba(255, 255, 255, 0.1);
    }
}

/* æ¿€æ´»çŠ¶æ€ */
.sound-btn.active {
    background: var(--glass-heavy);
    border: 2px solid var(--glass-border-heavy);
    transform: translateY(-2px);
    box-shadow: 
        var(--shadow-elevated),
        0 0 20px rgba(255, 255, 255, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    animation: breathe 4s var(--ease-natural) infinite;
}

/* æ¿€æ´»çŠ¶æ€çš„é¢å¤–å‘å…‰æ•ˆæœ */
.sound-btn.active::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.1) 0%, 
        transparent 50%, 
        rgba(255, 255, 255, 0.05) 100%);
    z-index: -1;
}

/* éŸ³æ•ˆå›¾æ ‡ */
.sound-icon {
    font-size: 2.5rem;
    margin-bottom: var(--space-md);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    transition: all var(--duration-normal) var(--ease-natural);
}

.sound-btn:hover .sound-icon {
    transform: scale(1.1);
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.4));
}

.sound-btn.active .sound-icon {
    transform: scale(1.05);
    filter: drop-shadow(0 4px 12px rgba(255, 255, 255, 0.3));
}

/* éŸ³æ•ˆåç§° */
.sound-name {
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-sm);
    color: var(--text-primary);
    text-align: center;
    letter-spacing: 0.025em;
    transition: all var(--duration-normal) var(--ease-natural);
}

.sound-btn:hover .sound-name {
    color: var(--text-primary);
    transform: translateY(-1px);
}

.sound-btn.active .sound-name {
    color: var(--text-primary);
    font-weight: var(--font-semibold);
}

/* æ¶Ÿæ¼ªæ•ˆæœ */
.sound-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    transform: translate(-50%, -50%);
    transition: all var(--duration-normal) var(--ease-natural);
    pointer-events: none;
    opacity: 0;
}

.sound-btn.ripple::before {
    width: 120px;
    height: 120px;
    opacity: 1;
    animation: ripple var(--duration-slow) var(--ease-natural);
}

/* éŸ³æ•ˆä¸»é¢˜è‰²å½© */
.sound-btn[data-sound="rain"].active {
    box-shadow: 
        var(--shadow-elevated),
        0 0 30px var(--rain-glow);
}

.sound-btn[data-sound="waves"].active {
    box-shadow: 
        var(--shadow-elevated),
        0 0 30px var(--waves-glow);
}

.sound-btn[data-sound="fire"].active {
    box-shadow: 
        var(--shadow-elevated),
        0 0 30px var(--fire-glow);
}

.sound-btn[data-sound="forest"].active {
    box-shadow: 
        var(--shadow-elevated),
        0 0 30px var(--forest-glow);
}

.sound-btn[data-sound="cafe"].active {
    box-shadow: 
        var(--shadow-elevated),
        0 0 30px var(--cafe-glow);
}

/* ===== æ§åˆ¶é¢æ¿ ===== */
.control-panel {
    display: flex;
    gap: var(--space-4xl);
    align-items: flex-start;
    justify-content: center;
    width: 100%;
    max-width: 800px;
    animation: materialise var(--duration-slower) var(--ease-gentle) 0.8s both;
    transition: all var(--duration-normal) var(--ease-natural);
}

/* éŸ³é‡æ§åˆ¶åŒºåŸŸ */
.control-panel .volume-control {
    flex: 1;
    max-width: 300px;
}

/* å®šæ—¶å™¨æ§åˆ¶åŒºåŸŸ */
.timer-control {
    flex: 1;
    max-width: 400px;
}

.timer-control label {
    display: block;
    margin-bottom: var(--space-md);
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-base);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.025em;
}

.timer-control .timer-buttons {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
}

/* å®šæ—¶å™¨çŠ¶æ€åœ¨æ§åˆ¶é¢æ¿ä¸­çš„æ ·å¼ */
.control-panel .timer-status {
    display: flex;
    align-items: center;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: var(--glass-medium);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-lg);
    box-shadow: var(--glow-soft);
    margin-top: var(--space-lg);
}

.control-panel .timer-progress-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.control-panel .timer-progress-ring {
    transform: rotate(-90deg);
    filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.3));
}

.control-panel .timer-progress-bar {
    stroke-dasharray: 157; /* 2 * Ï€ * 25 */
    stroke-dashoffset: 157;
    transition: stroke-dashoffset var(--duration-normal) var(--ease-natural);
}

.control-panel #timer-display {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: var(--font-mono);
    font-weight: var(--font-semibold);
    font-size: var(--text-xs);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.1em;
    white-space: nowrap;
}

.control-panel #cancel-timer {
    padding: var(--space-sm) var(--space-lg);
    background: var(--glass-light);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-md);
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-sm);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.025em;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    user-select: none;
    -webkit-user-select: none;
}

.control-panel #cancel-timer:hover {
    background: var(--glass-medium);
    border-color: var(--glass-border-heavy);
    transform: translateY(-1px);
    box-shadow: var(--shadow-float);
}

/* ===== è®¾ç½®æŒ‰é’®æ¯›ç»ç’ƒé£æ ¼ ===== */
.settings-button {
    position: fixed;
    top: var(--space-2xl);
    right: var(--space-2xl);
    width: 50px;
    height: 50px;
    border-radius: var(--radius-full);
    border: 1px solid var(--glass-border-light);
    
    /* æ¯›ç»ç’ƒæ•ˆæœ */
    background: var(--glass-light);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    
    /* å›¾æ ‡æ ·å¼ */
    font-size: var(--text-lg);
    color: var(--text-primary);
    
    /* é˜´å½±å’Œäº¤äº’ */
    box-shadow: var(--shadow-float);
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    
    /* å¸ƒå±€ */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
}

.settings-button:hover {
    transform: rotate(90deg) scale(1.1);
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
    box-shadow: var(--shadow-elevated);
}

/* ===== å…¨å±æ¯›ç»ç’ƒæ¨¡æ€æ¡† ===== */
.settings-panel {
    /* å…¨å±è¦†ç›– */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    
    /* èƒŒæ™¯è™šåŒ– */
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    
    /* å±…ä¸­å¸ƒå±€ */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* åˆå§‹éšè— */
    opacity: 0;
    visibility: hidden;
    transition: all var(--duration-normal) var(--ease-natural);
}

.settings-panel.visible {
    opacity: 1;
    visibility: visible;
    animation: fadeIn var(--duration-normal) var(--ease-natural);
}

/* è®¾ç½®å†…å®¹åŒºåŸŸ */
.settings-content {
    /* å°ºå¯¸å’Œå®šä½ */
    width: 90%;
    max-width: 400px;
    max-height: 80vh;
    
    /* å¼ºçƒˆæ¯›ç»ç’ƒæ•ˆæœ */
    background: var(--glass-heavy);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    
    /* è¾¹æ¡†å’Œåœ†è§’ */
    border: 1px solid var(--glass-border-heavy);
    border-radius: var(--radius-2xl);
    
    /* æ·±å±‚é˜´å½± */
    box-shadow: var(--shadow-deep);
    
    /* å†…è¾¹è· */
    padding: var(--space-2xl);
    
    /* æµ®ç°åŠ¨ç”» */
    transform: translateY(20px) scale(0.95);
    transition: all var(--duration-normal) var(--ease-back);
    position: relative;
    
    /* æ»šåŠ¨å¤„ç† */
    overflow-y: auto;
}

.settings-panel.visible .settings-content {
    transform: translateY(0) scale(1);
    animation: materialise var(--duration-normal) var(--ease-back);
}

/* è®¾ç½®æ ‡é¢˜ */
.settings-content h3 {
    margin-bottom: var(--space-xl);
    color: var(--text-primary);
    text-align: center;
    font-family: var(--font-primary);
    font-weight: var(--font-semibold);
    font-size: var(--text-xl);
    letter-spacing: 0.025em;
}

/* ===== éŸ³é‡æ§åˆ¶ä¼˜åŒ– ===== */
.volume-control {
    margin-bottom: var(--space-2xl);
}

.volume-control label {
    display: block;
    margin-bottom: var(--space-md);
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-base);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.025em;
}

.volume-slider {
    width: 100%;
    height: 8px;
    border-radius: var(--radius-sm);
    background: var(--glass-light);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border-light);
    outline: none;
    margin-bottom: var(--space-md);
    -webkit-appearance: none;
    appearance: none;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
}

.volume-slider:hover {
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
}

.volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: var(--radius-full);
    background: var(--glass-heavy);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 2px solid var(--glass-border-heavy);
    cursor: pointer;
    box-shadow: var(--shadow-float);
    transition: all var(--duration-normal) var(--ease-natural);
}

.volume-slider::-webkit-slider-thumb:hover {
    transform: scale(1.1);
    box-shadow: var(--shadow-elevated);
    background: var(--glass-ultra);
}

.volume-slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: var(--radius-full);
    background: var(--glass-heavy);
    border: 2px solid var(--glass-border-heavy);
    cursor: pointer;
    box-shadow: var(--shadow-float);
    transition: all var(--duration-normal) var(--ease-natural);
}

/* éŸ³é‡æ»‘å—å®¹å™¨ */
.volume-slider-container {
    position: relative;
    margin-bottom: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

/* é™éŸ³æŒ‰é’® */
.mute-btn {
    /* æ— éšœç¢æ€§ï¼šç¡®ä¿æœ€å°è§¦æ§åŒºåŸŸ */
    min-width: 44px;
    min-height: 44px;
    
    /* æ¯›ç»ç’ƒæ•ˆæœ */
    background: var(--glass-light);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-md);
    
    /* äº¤äº’æ ·å¼ */
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    position: relative;
    
    /* å¸ƒå±€ */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
}

.mute-btn:hover {
    background: var(--glass-medium);
    border-color: var(--glass-border-heavy);
    transform: translateY(-1px);
    box-shadow: var(--shadow-float);
}

.mute-btn:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
}

/* é™éŸ³å›¾æ ‡ */
.mute-icon {
    font-size: var(--text-lg);
    transition: all var(--duration-fast) var(--ease-natural);
}

/* é™éŸ³çŠ¶æ€ */
.mute-btn.muted .mute-icon::after {
    content: 'ğŸ”‡';
}

.mute-btn.muted {
    background: rgba(229, 62, 62, 0.2);
    border-color: rgba(229, 62, 62, 0.4);
}

.mute-btn.muted:hover {
    background: rgba(229, 62, 62, 0.3);
}

/* éŸ³é‡å¯è§†åŒ–å™¨ */
.volume-visualizer {
    position: absolute;
    top: 50%;
    right: 0;
    transform: translateY(-50%);
    display: flex;
    align-items: end;
    gap: 2px;
    height: 20px;
    padding: 0 var(--space-sm);
    pointer-events: none;
}

.volume-bar {
    width: 3px;
    background: var(--glass-medium);
    border-radius: 2px;
    transition: all var(--duration-fast) var(--ease-natural);
    opacity: 0.3;
}

.volume-bar:nth-child(1) { height: 4px; }
.volume-bar:nth-child(2) { height: 6px; }
.volume-bar:nth-child(3) { height: 8px; }
.volume-bar:nth-child(4) { height: 12px; }
.volume-bar:nth-child(5) { height: 16px; }
.volume-bar:nth-child(6) { height: 12px; }
.volume-bar:nth-child(7) { height: 8px; }
.volume-bar:nth-child(8) { height: 6px; }

/* æ¿€æ´»çŠ¶æ€çš„éŸ³é‡æ¡ */
.volume-bar.active {
    background: var(--text-primary);
    opacity: 1;
    box-shadow: 0 0 4px rgba(255, 255, 255, 0.3);
}

/* éŸ³é‡æ¡åŠ¨ç”» */
.volume-bar.animate {
    animation: volumePulse 0.6s var(--ease-natural);
}

@keyframes volumePulse {
    0%, 100% {
        transform: scaleY(1);
    }
    50% {
        transform: scaleY(1.3);
    }
}

#volume-display {
    font-family: var(--font-primary);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.05em;
}

/* ===== å®šæ—¶å™¨é€‰é¡¹ä¼˜åŒ– ===== */
.timer-options h4 {
    margin-bottom: var(--space-lg);
    font-family: var(--font-primary);
    font-weight: var(--font-semibold);
    font-size: var(--text-lg);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.025em;
}

.timer-buttons {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
}

.timer-btn {
    padding: var(--space-md) var(--space-lg);
    
    /* æ¯›ç»ç’ƒæŒ‰é’®æ•ˆæœ */
    background: var(--glass-light);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-md);
    
    /* æ–‡å­—æ ·å¼ */
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-sm);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.025em;
    
    /* äº¤äº’æ•ˆæœ */
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    position: relative;
    overflow: hidden;
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
}

.timer-btn:hover {
    background: var(--glass-medium);
    border-color: var(--glass-border-heavy);
    transform: translateY(-1px);
    box-shadow: var(--shadow-float);
}

.timer-btn.active {
    background: var(--glass-heavy);
    border: 2px solid var(--glass-border-heavy);
    color: var(--text-primary);
    font-weight: var(--font-semibold);
    transform: translateY(-1px);
    box-shadow: 
        var(--shadow-float), 
        0 0 15px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* ===== è‡ªå®šä¹‰å®šæ—¶å™¨è¾“å…¥ä¼˜åŒ– ===== */
.custom-timer-input {
    display: flex;
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
}

#custom-minutes {
    flex: 1;
    padding: var(--space-md) var(--space-lg);
    
    /* æ¯›ç»ç’ƒè¾“å…¥æ¡† */
    background: var(--glass-light);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-md);
    
    /* æ–‡å­—æ ·å¼ */
    font-family: var(--font-primary);
    font-weight: var(--font-normal);
    font-size: var(--text-base);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    
    /* äº¤äº’æ•ˆæœ */
    outline: none;
    transition: all var(--duration-normal) var(--ease-natural);
}

#custom-minutes::placeholder {
    color: var(--text-tertiary);
    font-style: italic;
}

#custom-minutes:focus {
    background: var(--glass-medium);
    border-color: var(--glass-border-heavy);
    box-shadow: var(--glow-soft);
}

#set-custom-timer {
    padding: var(--space-md) var(--space-lg);
    
    /* æ¯›ç»ç’ƒæŒ‰é’® */
    background: var(--glass-medium);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border-heavy);
    border-radius: var(--radius-md);
    
    /* æ–‡å­—æ ·å¼ */
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-sm);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.025em;
    
    /* äº¤äº’æ•ˆæœ */
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    position: relative;
    overflow: hidden;
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
}

#set-custom-timer:hover {
    background: var(--glass-heavy);
    transform: translateY(-1px);
    box-shadow: var(--shadow-float);
}

/* ===== å®šæ—¶å™¨çŠ¶æ€ä¼˜åŒ– ===== */
.timer-status {
    text-align: center;
    padding: var(--space-lg);
    
    /* æ¯›ç»ç’ƒçŠ¶æ€æ¡† */
    background: var(--glass-medium);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-lg);
    
    /* å‘å…‰æ•ˆæœ */
    box-shadow: var(--glow-soft);
    
    margin-bottom: var(--space-lg);
}

/* å®šæ—¶å™¨è¿›åº¦å®¹å™¨ */
.timer-progress-container {
    position: relative;
    display: inline-block;
    margin-bottom: var(--space-md);
}

/* æ—§çš„å®šæ—¶å™¨æ ·å¼å·²ç§»åŠ¨åˆ°æ§åˆ¶é¢æ¿éƒ¨åˆ† */

/* cancel-timeræ ·å¼å·²ç§»åŠ¨åˆ°æ§åˆ¶é¢æ¿éƒ¨åˆ† */

/* ===== å…³é—­æŒ‰é’® ===== */
.close-button {
    position: absolute;
    top: var(--space-lg);
    right: var(--space-lg);
    width: 32px;
    height: 32px;
    
    /* æ¯›ç»ç’ƒæ•ˆæœ */
    background: var(--glass-light);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-full);
    
    /* å›¾æ ‡æ ·å¼ */
    font-size: var(--text-lg);
    color: var(--text-secondary);
    
    /* äº¤äº’æ•ˆæœ */
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    
    /* å¸ƒå±€ */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
}

.close-button:hover {
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
    color: var(--text-primary);
    transform: rotate(90deg) scale(1.1);
    box-shadow: var(--glow-soft);
}

/* ===== åŠ è½½æŒ‡ç¤ºå™¨ä¼˜åŒ– ===== */
.loading-indicator {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.loading-indicator p {
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-lg);
    color: var(--text-primary);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    letter-spacing: 0.025em;
    margin-top: var(--space-lg);
}

.loading-spinner {
    width: 60px;
    height: 60px;
    border: 4px solid var(--glass-light);
    border-top: 4px solid var(--text-primary);
    border-radius: var(--radius-full);
    animation: spin 1s linear infinite;
    box-shadow: var(--glow-soft);
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ===== é”™è¯¯æç¤ºä¼˜åŒ– ===== */
.error-message {
    position: fixed;
    top: var(--space-2xl);
    left: 50%;
    transform: translateX(-50%);
    
    /* æ¯›ç»ç’ƒé”™è¯¯æ¡† */
    background: var(--glass-heavy);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--error-glow);
    border-radius: var(--radius-lg);
    
    /* æ–‡å­—æ ·å¼ */
    color: var(--text-primary);
    padding: var(--space-lg) var(--space-2xl);
    
    /* é˜´å½±å’Œå‘å…‰ */
    box-shadow: 
        var(--shadow-elevated),
        0 0 20px var(--error-glow);
    
    z-index: 3000;
    animation: slideDown var(--duration-normal) var(--ease-back);
    
    /* å¸ƒå±€ */
    display: flex;
    align-items: center;
    gap: var(--space-lg);
}

@keyframes slideDown {
    from {
        transform: translateX(-50%) translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
    }
}

.error-message p {
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-base);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.025em;
    margin: 0;
}

#close-error {
    padding: var(--space-xs) var(--space-sm);
    
    /* æ¯›ç»ç’ƒæŒ‰é’® */
    background: var(--glass-light);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-sm);
    
    /* æ–‡å­—æ ·å¼ */
    font-family: var(--font-primary);
    font-weight: var(--font-medium);
    font-size: var(--text-xs);
    color: var(--text-primary);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    
    /* äº¤äº’æ•ˆæœ */
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
}

#close-error:hover {
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
    transform: scale(1.05);
}

/* å“åº”å¼è¿‡æ¸¡ä¼˜åŒ– */
.responsive-transition {
    transition: all var(--duration-normal) var(--ease-natural);
}

/* ä¸­ç­‰å±å¹•ä¼˜åŒ– */
@media (min-width: 900px) and (max-width: 1023px) {
    .sound-selector-horizontal {
        max-width: 950px;
    }
    
    .sound-btn {
        width: 115px;
        min-width: 115px;
    }
}

/* å¤§å±å¹•ä¼˜åŒ– - ç¡®ä¿7ä¸ªå›¾æ ‡å®Œç¾æ˜¾ç¤º */
@media (min-width: 1024px) {
    .sound-selector-horizontal {
        max-width: 1100px; /* åœ¨å¤§å±å¹•ä¸Šå¢åŠ å®½åº¦ */
    }
    
    .sound-btn {
        width: 130px; /* åœ¨å¤§å±å¹•ä¸Šå¢åŠ æŒ‰é’®å®½åº¦ */
        min-width: 130px;
    }
    
    .sound-list {
        gap: var(--space-lg); /* åœ¨å¤§å±å¹•ä¸Šå¢åŠ é—´è· */
        padding: 0 var(--space-xl);
    }
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .main-container {
        padding: var(--space-lg);
        gap: var(--space-2xl);
    }
    
    .app-title {
        font-size: var(--text-3xl);
    }
    
    .sound-selector {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: var(--space-lg);
        max-width: 400px;
    }
    
    .sound-btn {
        width: 90px; /* åœ¨å¹³æ¿ä¸Šç¨å¾®ç¼©å° */
        min-width: 90px;
        padding: var(--space-lg) var(--space-sm);
    }
    
    .sound-list {
        gap: var(--space-sm); /* åœ¨å¹³æ¿ä¸Šå‡å°‘é—´è· */
    }
    
    .sound-icon {
        font-size: 2rem;
    }
    
    .sound-name {
        font-size: var(--text-xs);
    }
    
    .control-panel {
        flex-direction: column;
        gap: var(--space-2xl);
        align-items: center;
    }
    
    .control-panel .volume-control,
    .timer-control {
        width: 100%;
        max-width: 350px;
    }
    
    .timer-control .timer-buttons {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 480px) {
    .main-container {
        gap: var(--space-xl);
    }
    
    .app-title {
        font-size: var(--text-2xl);
    }
    
    .sound-selector {
        grid-template-columns: repeat(3, 1fr);
        max-width: 300px;
        gap: var(--space-md);
    }
    
    .sound-btn {
        width: 70px; /* åœ¨æ‰‹æœºä¸Šè¿›ä¸€æ­¥ç¼©å° */
        min-width: 70px;
        padding: var(--space-md) var(--space-xs);
    }
    
    .sound-list {
        gap: var(--space-xs); /* åœ¨æ‰‹æœºä¸Šæœ€å°é—´è· */
        padding: 0 var(--space-sm);
    }
    
    .sound-selector-horizontal {
        max-width: 100%; /* åœ¨æ‰‹æœºä¸Šä½¿ç”¨å…¨å®½ */
    }
    
    .sound-icon {
        font-size: 1.5rem;
    }
    
    .sound-name {
        font-size: var(--text-xs);
    }
    
    .control-panel {
        gap: var(--space-xl);
    }
    
    .timer-control .timer-buttons {
        grid-template-columns: 1fr;
        gap: var(--space-xs);
    }
}

/* å¯è®¿é—®æ€§å¢å¼º */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    /* ä¸ºå‡å°‘åŠ¨ç”»åå¥½çš„ç”¨æˆ·æä¾›å³æ—¶åé¦ˆ */
    .sound-btn:hover {
        animation: none;
    }
    
    .scroll-indicator.visible {
        animation: none;
    }
    
    .sound-list .sound-btn {
        animation: none !important;
    }
}

/* é«˜å¯¹æ¯”åº¦æ¨¡å¼æ”¯æŒ */
@media (prefers-contrast: high) {
    :root {
        --shadow-color: rgba(0, 0, 0, 0.3);
    }
    
    .play-button, .sound-btn, .settings-button {
        border: 2px solid var(--text-color);
    }
}
/* ===== éª¨æ¶å±ç³»ç»Ÿæ ·å¼ ===== */

/* éª¨æ¶å±å®¹å™¨ */
.skeleton-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    background: var(--bg-gradient-flow);
    background-size: 400% 400%;
    animation: backgroundFlow 25s var(--ease-natural) infinite;
    display: none;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity var(--duration-normal) var(--ease-natural);
}

.skeleton-container.skeleton-visible {
    opacity: 1;
}

.skeleton-container.skeleton-hiding {
    opacity: 0;
}

/* éª¨æ¶å±ä¸»å®¹å™¨ */
.skeleton-main-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-2xl);
    padding: var(--space-2xl);
    width: 100%;
    max-width: 800px;
}

/* éª¨æ¶å±åŸºç¡€å…ƒç´ æ ·å¼ */
.skeleton-element {
    background: var(--glass-light);
    border-radius: var(--radius-lg);
    position: relative;
    overflow: hidden;
    border: 1px solid var(--glass-border-light);
}

/* éª¨æ¶å±æ–‡æœ¬å…ƒç´  */
.skeleton-text {
    background: linear-gradient(90deg, 
        var(--glass-light) 25%, 
        var(--glass-medium) 50%, 
        var(--glass-light) 75%);
    background-size: 200% 100%;
    position: relative;
}

/* éª¨æ¶å±æ ‡é¢˜ */
.skeleton-title {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.skeleton-title-decoration {
    position: absolute;
    top: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 3px;
    background: var(--glass-medium);
    border-radius: var(--radius-sm);
    opacity: 0.5;
}

/* æ§åˆ¶é¢æ¿éª¨æ¶å± */
.skeleton-controls {
    display: flex;
    gap: var(--space-4xl);
    align-items: flex-start;
    justify-content: center;
    width: 100%;
    max-width: 800px;
    background: transparent;
    border: none;
}

.skeleton-volume-section,
.skeleton-timer-section {
    flex: 1;
    max-width: 300px;
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.skeleton-volume-label,
.skeleton-timer-label {
    width: 60px;
    height: 16px;
    background: var(--glass-medium);
    border-radius: var(--radius-sm);
}

.skeleton-volume-slider {
    width: 100%;
    height: 8px;
    background: var(--glass-light);
    border-radius: var(--radius-sm);
    position: relative;
}

.skeleton-volume-slider::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 70%;
    height: 100%;
    background: var(--glass-medium);
    border-radius: var(--radius-sm);
}

.skeleton-timer-buttons {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-sm);
}

.skeleton-timer-button {
    width: 100%;
    height: 32px;
    background: var(--glass-light);
    border-radius: var(--radius-md);
    border: 1px solid var(--glass-border-light);
}

/* éª¨æ¶å±åœ†å½¢å…ƒç´  */
.skeleton-circle {
    border-radius: var(--radius-full);
    background: var(--glass-medium);
    border: 2px solid var(--glass-border-medium);
    box-shadow: var(--shadow-float);
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* æ’­æ”¾å›¾æ ‡å ä½ç¬¦ */
.skeleton-play-icon {
    width: 24px;
    height: 24px;
    background: var(--glass-heavy);
    border-radius: 0;
    clip-path: polygon(0 0, 100% 50%, 0 100%);
    opacity: 0.6;
}

/* éª¨æ¶å±å…‰ç¯æ•ˆæœ */
.skeleton-halo {
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    border: 2px solid var(--glass-border-light);
    border-radius: var(--radius-full);
    opacity: 0;
    animation: skeletonHalo 3s ease-in-out infinite;
}

@keyframes skeletonHalo {
    0%, 100% {
        opacity: 0;
        transform: scale(1);
    }
    50% {
        opacity: 0.3;
        transform: scale(1.1);
    }
}

/* éª¨æ¶å±ç½‘æ ¼å®¹å™¨ */
.skeleton-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: var(--space-xl);
    width: 100%;
    max-width: 600px;
    background: transparent;
    border: none;
}

/* éª¨æ¶å±ç½‘æ ¼é¡¹ */
.skeleton-grid-item {
    background: var(--glass-light);
    border-radius: var(--radius-lg);
    border: 1px solid var(--glass-border-light);
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-lg);
    gap: var(--space-md);
}

/* éŸ³æ•ˆå›¾æ ‡å ä½ç¬¦ */
.skeleton-sound-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-full);
    background: var(--glass-medium);
    flex-shrink: 0;
}

/* éŸ³æ•ˆåç§°å ä½ç¬¦ */
.skeleton-sound-name {
    width: 60px;
    height: 14px;
    border-radius: var(--radius-sm);
    background: var(--glass-medium);
}

/* ===== éª¨æ¶å±åŠ¨ç”»æ•ˆæœ ===== */

/* å¢å¼ºå¾®å…‰åŠ¨ç”» */
@keyframes skeletonShimmer {
    0% {
        background-position: -200% 0;
        opacity: 0.6;
    }
    50% {
        opacity: 0.8;
    }
    100% {
        background-position: 200% 0;
        opacity: 0.6;
    }
}

.skeleton-shimmer {
    background: linear-gradient(90deg, 
        var(--glass-light) 0%, 
        var(--glass-light) 25%, 
        var(--glass-heavy) 50%, 
        var(--glass-light) 75%, 
        var(--glass-light) 100%);
    background-size: 200% 100%;
    animation: skeletonShimmer 2s ease-in-out infinite;
    position: relative;
}

/* å¾®å…‰é«˜å…‰æ•ˆæœ */
.skeleton-shimmer::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.1) 50%, 
        transparent 100%);
    animation: skeletonHighlight 2s ease-in-out infinite;
}

@keyframes skeletonHighlight {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* å¢å¼ºè„‰åŠ¨åŠ¨ç”» */
@keyframes skeletonPulse {
    0%, 100% {
        opacity: 0.7;
        transform: scale(1);
        box-shadow: var(--shadow-float);
    }
    25% {
        opacity: 0.8;
        transform: scale(1.01);
    }
    50% {
        opacity: 0.9;
        transform: scale(1.03);
        box-shadow: var(--shadow-elevated), 0 0 20px rgba(255, 255, 255, 0.1);
    }
    75% {
        opacity: 0.8;
        transform: scale(1.01);
    }
}

.skeleton-pulse {
    animation: skeletonPulse 3s ease-in-out infinite;
}

/* æ’­æ”¾æŒ‰é’®ç‰¹æ®Šè„‰åŠ¨æ•ˆæœ */
.skeleton-circle.skeleton-pulse .skeleton-play-icon {
    animation: skeletonPlayIconPulse 3s ease-in-out infinite;
}

@keyframes skeletonPlayIconPulse {
    0%, 100% {
        opacity: 0.6;
        transform: scale(1);
    }
    50% {
        opacity: 0.9;
        transform: scale(1.1);
    }
}

/* å»¶è¿Ÿå¾®å…‰åŠ¨ç”»ï¼ˆç”¨äºç½‘æ ¼é¡¹ï¼‰ */
.skeleton-shimmer-delayed .skeleton-grid-item {
    background: linear-gradient(90deg, 
        var(--glass-light) 25%, 
        var(--glass-medium) 50%, 
        var(--glass-light) 75%);
    background-size: 200% 100%;
    animation: skeletonShimmer 1.5s ease-in-out infinite;
}

/* éª¨æ¶å±æ¿€æ´»çŠ¶æ€ */
.skeleton-animated {
    animation-play-state: running;
}

/* éª¨æ¶å±æš‚åœçŠ¶æ€ */
.skeleton-element:not(.skeleton-animated) {
    animation-play-state: paused;
}

/* ===== éª¨æ¶å±å˜å½¢è¿‡æ¸¡åŠ¨ç”» ===== */

/* å˜å½¢å®¹å™¨ */
.skeleton-morphing {
    transition: all var(--duration-normal) var(--ease-natural);
}

/* å˜å½¢å‡ºåœºåŠ¨ç”» */
.skeleton-morph-out {
    animation: skeletonMorphOut var(--duration-normal) var(--ease-natural) forwards;
}

@keyframes skeletonMorphOut {
    0% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
    50% {
        opacity: 0.5;
        transform: scale(1.02) translateY(-2px);
    }
    100% {
        opacity: 0;
        transform: scale(0.98) translateY(4px);
    }
}

/* å…¥åœºåŠ¨ç”»å¢å¼º */
.skeleton-element {
    animation: skeletonFadeIn var(--duration-slow) var(--ease-gentle) both;
}

@keyframes skeletonFadeIn {
    0% {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* ç‰¹æ®Šå…ƒç´ çš„å…¥åœºåŠ¨ç”» */
.skeleton-circle {
    animation: skeletonCircleFadeIn var(--duration-slow) var(--ease-back) both;
}

@keyframes skeletonCircleFadeIn {
    0% {
        opacity: 0;
        transform: scale(0.8) rotate(-10deg);
    }
    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }
}

.skeleton-grid-item {
    animation: skeletonItemFadeIn var(--duration-normal) var(--ease-gentle) both;
}

@keyframes skeletonItemFadeIn {
    0% {
        opacity: 0;
        transform: translateY(15px) scale(0.9);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* ===== éª¨æ¶å±å“åº”å¼è®¾è®¡ ===== */

/* ç§»åŠ¨è®¾å¤‡é€‚é… */
@media (max-width: 768px) {
    .skeleton-main-container {
        padding: var(--space-lg);
        gap: var(--space-xl);
    }
    
    .skeleton-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-md);
    }
    
    #play-button-skeleton {
        width: 100px !important;
        height: 100px !important;
    }
    
    .skeleton-grid-item {
        width: 80px !important;
        height: 100px !important;
    }
}

/* å°å±è®¾å¤‡é€‚é… */
@media (max-width: 480px) {
    .skeleton-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    #title-skeleton {
        width: 150px !important;
        height: 28px !important;
    }
}

/* å‡å°‘åŠ¨ç”»åå¥½é€‚é… */
@media (prefers-reduced-motion: reduce) {
    .skeleton-shimmer,
    .skeleton-pulse,
    .skeleton-shimmer-delayed .skeleton-grid-item {
        animation: none;
    }
    
    .skeleton-element {
        opacity: 0.7;
    }
}

/* é«˜å¯¹æ¯”åº¦æ¨¡å¼é€‚é… */
@media (prefers-contrast: high) {
    .skeleton-element {
        background: var(--glass-medium);
        border-color: var(--glass-border-heavy);
    }
    
    .skeleton-circle {
        background: var(--glass-heavy);
        border-color: var(--glass-border-heavy);
    }
}
/* ===
== éª¨æ¶å±ç³»ç»Ÿæ ·å¼ ===== */

/* éª¨æ¶å±å®¹å™¨ */
.skeleton-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    background: var(--bg-gradient-flow);
    background-size: 400% 400%;
    animation: backgroundFlow 25s var(--ease-natural) infinite;
    display: none;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.skeleton-container.skeleton-visible {
    opacity: 1;
}

.skeleton-container.skeleton-hiding {
    opacity: 0;
}

/* éª¨æ¶å±ä¸»å®¹å™¨ */
.skeleton-main-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    padding: 2rem;
    width: 100%;
    max-width: 800px;
}

/* éª¨æ¶å±åŸºç¡€å…ƒç´ æ ·å¼ */
.skeleton-element {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.15);
    animation: skeletonPulse 2s ease-in-out infinite;
}

/* ç®€å•çš„è„‰åŠ¨åŠ¨ç”» */
@keyframes skeletonPulse {
    0%, 100% {
        opacity: 0.6;
    }
    50% {
        opacity: 0.8;
    }
}

/* éª¨æ¶å±æ–‡æœ¬å…ƒç´  */
.skeleton-text {
    background: rgba(255, 255, 255, 0.1);
}

/* éª¨æ¶å±åœ†å½¢å…ƒç´  */
.skeleton-circle {
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.12);
    border: 2px solid rgba(255, 255, 255, 0.2);
}

/* éª¨æ¶å±ç½‘æ ¼å®¹å™¨ */
.skeleton-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 1.5rem;
    width: 100%;
    max-width: 600px;
    background: transparent;
    border: none;
}

/* éª¨æ¶å±ç½‘æ ¼é¡¹ */
.skeleton-grid-item {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.15);
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    gap: 0.75rem;
}

/* æ§åˆ¶é¢æ¿éª¨æ¶å± */
.skeleton-controls {
    display: flex;
    gap: 4rem;
    align-items: flex-start;
    justify-content: center;
    width: 100%;
    max-width: 800px;
    background: transparent;
    border: none;
}

.skeleton-volume-section,
.skeleton-timer-section {
    flex: 1;
    max-width: 300px;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.skeleton-volume-label,
.skeleton-timer-label {
    width: 60px;
    height: 16px;
    background: rgba(255, 255, 255, 0.12);
    border-radius: 4px;
}

.skeleton-volume-slider {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
}

.skeleton-timer-buttons {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
}

.skeleton-timer-button {
    width: 100%;
    height: 32px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.15);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .skeleton-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
    }
    
    .skeleton-controls {
        flex-direction: column;
        gap: 2rem;
    }
}
/* 
===== åŠ è½½çŠ¶æ€æŒ‡ç¤ºå™¨æ ·å¼ ===== */

.loading-status {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    z-index: 10000;
    background: var(--glass-medium);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border-medium);
    border-radius: 16px;
    padding: 1.5rem 2rem;
    min-width: 320px;
    max-width: 90vw;
    box-shadow: var(--shadow-elevated);
    opacity: 0;
    transition: all var(--duration-normal) var(--ease-natural);
    pointer-events: none;
    display: none;
}

.loading-status.loading-visible {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

.loading-status.loading-hiding {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
}

/* åŠ è½½è¿›åº¦æ¡ */
.loading-progress-bar {
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 1rem;
    position: relative;
}

.loading-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, 
        rgba(255, 255, 255, 0.6) 0%,
        rgba(255, 255, 255, 0.8) 50%,
        rgba(255, 255, 255, 0.6) 100%);
    border-radius: 2px;
    width: 0%;
    transition: width var(--duration-fast) var(--ease-natural);
    position: relative;
    overflow: hidden;
}

.loading-progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent 0%,
        rgba(255, 255, 255, 0.4) 50%,
        transparent 100%);
    animation: loadingShimmer 2s ease-in-out infinite;
}

@keyframes loadingShimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* åŠ è½½æ¶ˆæ¯ */
.loading-message {
    color: var(--text-primary);
    font-size: var(--text-base);
    font-weight: var(--font-medium);
    text-align: center;
    margin-bottom: 0.5rem;
    line-height: var(--leading-tight);
}

/* åŠ è½½è¯¦æƒ… */
.loading-details {
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: var(--text-secondary);
    font-size: var(--text-sm);
    font-weight: var(--font-normal);
}

.loading-phase {
    opacity: 0.8;
}

.loading-percentage {
    font-weight: var(--font-semibold);
    color: var(--text-primary);
}

/* åŠ è½½çŠ¶æ€åŠ¨ç”» */
.loading-status.loading-pulse {
    animation: loadingPulse 2s ease-in-out infinite;
}

@keyframes loadingPulse {
    0%, 100% {
        box-shadow: var(--shadow-elevated);
    }
    50% {
        box-shadow: var(--shadow-elevated), 0 0 20px rgba(255, 255, 255, 0.1);
    }
}

/* é”™è¯¯çŠ¶æ€ */
.loading-status.loading-error {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.3);
}

.loading-status.loading-error .loading-progress-fill {
    background: linear-gradient(90deg, 
        rgba(239, 68, 68, 0.6) 0%,
        rgba(239, 68, 68, 0.8) 50%,
        rgba(239, 68, 68, 0.6) 100%);
}

.loading-status.loading-error .loading-message {
    color: rgba(239, 68, 68, 0.9);
}

/* æˆåŠŸçŠ¶æ€ */
.loading-status.loading-success {
    background: rgba(34, 197, 94, 0.1);
    border-color: rgba(34, 197, 94, 0.3);
}

.loading-status.loading-success .loading-progress-fill {
    background: linear-gradient(90deg, 
        rgba(34, 197, 94, 0.6) 0%,
        rgba(34, 197, 94, 0.8) 50%,
        rgba(34, 197, 94, 0.6) 100%);
}

.loading-status.loading-success .loading-message {
    color: rgba(34, 197, 94, 0.9);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .loading-status {
        bottom: 1rem;
        left: 1rem;
        right: 1rem;
        transform: none;
        min-width: auto;
        max-width: none;
        width: calc(100% - 2rem);
    }
    
    .loading-status.loading-visible {
        transform: none;
    }
    
    .loading-status.loading-hiding {
        transform: translateY(20px);
    }
}

/* å‡å°‘åŠ¨ç”»åå¥½é€‚é… */
@media (prefers-reduced-motion: reduce) {
    .loading-progress-fill::after {
        animation: none;
    }
    
    .loading-status.loading-pulse {
        animation: none;
    }
}

/* 
===== éŸ³æ•ˆæŒ‰é’®åŠ è½½çŠ¶æ€æ ·å¼ ===== 
*/

/* åŠ è½½ä¸­çŠ¶æ€ */
.sound-btn.loading {
    position: relative;
    pointer-events: none;
    opacity: 0.7;
}

.sound-btn.loading::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top: 2px solid rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    animation: soundButtonSpin 1s linear infinite;
    z-index: 1;
}

.sound-btn.loading .sound-icon,
.sound-btn.loading .sound-name {
    opacity: 0.3;
}

@keyframes soundButtonSpin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* åŠ è½½æˆåŠŸçŠ¶æ€ */
.sound-btn.load-success {
    background: rgba(34, 197, 94, 0.2);
    border-color: rgba(34, 197, 94, 0.4);
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
}

.sound-btn.load-success::after {
    content: 'âœ“';
    position: absolute;
    top: 8px;
    right: 8px;
    width: 16px;
    height: 16px;
    background: rgba(34, 197, 94, 0.9);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: bold;
    animation: loadSuccessPopIn 0.3s ease-out;
}

@keyframes loadSuccessPopIn {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* åŠ è½½é”™è¯¯çŠ¶æ€ */
.sound-btn.load-error {
    background: rgba(239, 68, 68, 0.2);
    border-color: rgba(239, 68, 68, 0.4);
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

.sound-btn.load-error::after {
    content: '!';
    position: absolute;
    top: 8px;
    right: 8px;
    width: 16px;
    height: 16px;
    background: rgba(239, 68, 68, 0.9);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
    animation: loadErrorShake 0.5s ease-in-out;
}

@keyframes loadErrorShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
}

/* ç¦ç”¨çŠ¶æ€ */
.sound-btn:disabled {
    cursor: not-allowed;
    opacity: 0.6;
}

.sound-btn:disabled:hover {
    transform: none;
    box-shadow: var(--shadow-float);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .sound-btn.loading::before {
        width: 16px;
        height: 16px;
        margin: -8px 0 0 -8px;
    }
    
    .sound-btn.load-success::after,
    .sound-btn.load-error::after {
        width: 14px;
        height: 14px;
        font-size: 9px;
        top: 6px;
        right: 6px;
    }
}

/* å‡å°‘åŠ¨ç”»åå¥½é€‚é… */
@media (prefers-reduced-motion: reduce) {
    .sound-btn.loading::before {
        animation: none;
        border: 2px solid rgba(255, 255, 255, 0.5);
    }
    
    .sound-btn.load-success::after {
        animation: none;
    }
    
    .sound-btn.load-error::after {
        animation: none;
    }
}

/* 
===== æ–°å¢ï¼šæ¨¡å¼åˆ‡æ¢å™¨æ ·å¼ ===== 
*/

/* æ¨¡å¼åˆ‡æ¢å™¨ä¸»å®¹å™¨ - é™ä½è§†è§‰é‡è¦æ€§ */
.mode-switcher {
    display: flex;
    justify-content: center;
    margin: var(--space-sm) 0 var(--space-lg) 0; /* å‡å°é—´è· */
    z-index: 5; /* é™ä½å±‚çº§ */
    opacity: 0.8; /* é™ä½ä¸é€æ˜åº¦ */
    transition: opacity var(--duration-normal) var(--ease-natural);
}

.mode-switcher:hover {
    opacity: 1;
}

/* æ¨¡å¼åˆ‡æ¢å®¹å™¨ - è½»é‡åŒ–è®¾è®¡ */
.mode-toggle-container {
    position: relative;
    display: flex;
    background: var(--glass-light); /* æ›´è½»çš„èƒŒæ™¯ */
    backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border-light);
    border-radius: 25px; /* å‡å°åœ†è§’ */
    padding: 3px; /* å‡å°å†…è¾¹è· */
    box-shadow: var(--shadow-float);
    overflow: hidden;
    transform: scale(0.9); /* æ•´ä½“ç¼©å° */
    transition: all var(--duration-normal) var(--ease-natural);
}

.mode-toggle-container:hover {
    transform: scale(0.95);
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
}

/* æ¨¡å¼æŒ‰é’® - ä¼˜åŒ–ä¸ºæ·¡å…¥æ·¡å‡ºæ•ˆæœ */
.mode-btn {
    position: relative;
    padding: 8px 16px;
    background: transparent;
    border: 1px solid transparent;
    border-radius: 22px;
    color: var(--text-tertiary);
    font-size: var(--text-xs);
    font-weight: var(--font-medium);
    font-family: var(--font-primary);
    cursor: pointer;
    transition: all var(--duration-fast) cubic-bezier(0.2, 0, 0, 1); /* ä½¿ç”¨è“å›¾æ¨èçš„ç¼“å‡ºæ›²çº¿ */
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    min-width: 90px;
    justify-content: center;
    z-index: 2;
    
    /* æ— éšœç¢æ€§ï¼šç¡®ä¿æœ€å°è§¦æ§åŒºåŸŸ */
    min-height: 44px;
}

/* æ— éšœç¢æ€§ï¼šæ¨¡å¼æŒ‰é’®çš„é”®ç›˜ç„¦ç‚¹çŠ¶æ€ */
.mode-btn:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
    box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.3);
}

.mode-btn:hover {
    color: var(--text-secondary);
    background: var(--glass-light);
    border-color: var(--glass-border-light);
    transform: translateY(-1px);
}

/* æ¿€æ´»çŠ¶æ€ - ä½¿ç”¨æ·¡å…¥æ·¡å‡ºæ•ˆæœ */
.mode-btn.active {
    color: var(--text-primary);
    background: var(--glass-medium);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border-medium);
    font-weight: var(--font-semibold);
    opacity: 1;
    transform: scale(1);
    transition: all 140ms cubic-bezier(0.2, 0, 0, 1); /* æŒ‰ç…§è“å›¾è¦æ±‚140ms */
}

/* æ¨¡å¼å›¾æ ‡ - è½»é‡åŒ– */
.mode-icon {
    font-size: var(--text-base); /* å‡å°å›¾æ ‡å°ºå¯¸ */
    transition: transform var(--duration-normal) var(--ease-natural);
    opacity: 0.8;
}

.mode-btn:hover .mode-icon {
    transform: scale(1.05); /* å‡å°‘æ”¾å¤§æ•ˆæœ */
    opacity: 1;
}

.mode-btn.active .mode-icon {
    transform: scale(1.02);
    opacity: 1;
}

/* æ¨¡å¼æŒ‡ç¤ºå™¨å·²ç§»é™¤ï¼Œæ”¹ä¸ºç›´æ¥åœ¨æŒ‰é’®ä¸Šæ˜¾ç¤ºæ·¡å…¥æ·¡å‡ºæ•ˆæœ */

/* 
===== æ ¡å›­æ¨¡å¼ä¸»é¢˜æ ·å¼ ===== 
*/

/* æ ¡å›­æ¨¡å¼çš„ä¸»é¢˜å˜é‡ */
body.campus-mode {
    --primary-deep: #1a2e1a;
    --primary-medium: #2d4a2d;
    --primary-light: #3d5a3d;
    
    --glass-light: rgba(76, 175, 80, 0.08);
    --glass-medium: rgba(76, 175, 80, 0.12);
    --glass-heavy: rgba(76, 175, 80, 0.16);
    
    --accent-color: #4CAF50;
    --glow-soft: 0 0 20px rgba(76, 175, 80, 0.2);
    --glow-medium: 0 0 30px rgba(76, 175, 80, 0.3);
    
    /* æ ¡å›­æ¨¡å¼ä¸‹çš„ç²‰ç¬”é£æ ¼å­—ä½“ */
    --font-campus: 'Kalam', 'Comic Sans MS', 'Marker Felt', 'åæ–‡è¡Œæ¥·', 'è‰ä½“', cursive;
}

/* æ ¡å›­æ¨¡å¼ä¸‹çš„éŸ³æ•ˆæŒ‰é’®å­—ä½“é£æ ¼ */
body.campus-mode .sound-btn .sound-name {
    font-family: var(--font-campus);
    font-weight: var(--font-medium);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
    letter-spacing: 0.5px;
}

/* æ ¡å›­æ¨¡å¼ä¸‹çš„æ¨¡å¼æŒ‰é’®å­—ä½“ */
body.campus-mode .mode-btn .mode-name {
    font-family: var(--font-campus);
    font-weight: var(--font-semibold);
}

/* æ ¡å›­æ¨¡å¼ä¸‹çš„æ ‡é¢˜å­—ä½“ */
body.campus-mode .app-title {
    font-family: var(--font-campus);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

/* æ ¡å›­æ¨¡å¼ä¸‹çš„èƒŒæ™¯æ¸å˜ */
body.campus-mode #background-container {
    background: linear-gradient(135deg, 
        #1a2e1a 0%, 
        #2d4a2d 25%, 
        #3d5a3d 50%, 
        #2a4a2a 75%, 
        #1a2e1a 100%);
}

/* æ ¡å›­æ¨¡å¼ä¸‹çš„ç²’å­æ•ˆæœ */
body.campus-mode .particles .particle {
    background: radial-gradient(circle, rgba(76, 175, 80, 0.6) 0%, transparent 70%);
    box-shadow: 0 0 6px rgba(76, 175, 80, 0.4);
}

/* æ ¡å›­æ¨¡å¼ä¸‹çš„éŸ³æ•ˆæŒ‰é’® */
body.campus-mode .sound-btn {
    border-color: rgba(76, 175, 80, 0.3);
}

body.campus-mode .sound-btn:hover {
    border-color: rgba(76, 175, 80, 0.5);
    box-shadow: 0 8px 32px rgba(76, 175, 80, 0.2), var(--shadow-float);
}

body.campus-mode .sound-btn.active {
    background: rgba(76, 175, 80, 0.2);
    border-color: rgba(76, 175, 80, 0.6);
    box-shadow: 0 0 30px rgba(76, 175, 80, 0.4);
}

/* 
===== è‡ªå®šä¹‰éŸ³é¢‘æ ‡è¯† ===== 
*/

/* è‡ªå®šä¹‰éŸ³é¢‘è§’æ ‡ - ä¼˜åŒ–è®¾è®¡ */
.sound-btn.custom::after {
    content: 'âœ¨'; /* ä½¿ç”¨æ›´ä¼˜é›…çš„æ˜Ÿæ˜Ÿå›¾æ ‡ */
    position: absolute;
    top: 6px;
    right: 6px;
    width: 20px;
    height: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* ä¼˜é›…çš„æ¸å˜èƒŒæ™¯ */
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    z-index: 3;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
    animation: customBadgeGlow 3s ease-in-out infinite;
    transition: all var(--duration-normal) var(--ease-natural);
}

/* æ‚¬åœæ•ˆæœ */
.sound-btn.custom:hover::after {
    transform: scale(1.1);
    box-shadow: 0 4px 16px rgba(102, 126, 234, 0.6);
}

/* è‡ªå®šä¹‰æ ‡è¯†åŠ¨ç”»æ•ˆæœ */
@keyframes customBadgeGlow {
    0%, 100% { 
        box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
        transform: scale(1);
    }
    50% { 
        box-shadow: 0 2px 12px rgba(102, 126, 234, 0.6);
        transform: scale(1.02);
    }
}

/* æ¸è¿›åŠ¨ç”»ä¼˜åŒ– */
@media (prefers-reduced-motion: reduce) {
    .sound-btn.custom::after {
        animation: none;
    }
}

/* ç¼–è¾‘åŠŸèƒ½å·²ç»Ÿä¸€åˆ°å³é”®/é•¿æŒ‰èœå•ä¸­ï¼Œä¸å†éœ€è¦æ‚¬æµ®ç¼–è¾‘æŒ‰é’® */

/* 
===== è‡ªå®šä¹‰éŸ³é¢‘èœå• ===== 
*/

.custom-audio-menu {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    animation: menuFadeIn var(--duration-normal) ease-out;
}

.custom-audio-menu .menu-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    cursor: pointer;
}

.custom-audio-menu .menu-content {
    position: relative;
    background: var(--glass-ultra);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border-heavy);
    border-radius: var(--radius-xl);
    padding: var(--space-3xl);
    max-width: 400px;
    width: 90%;
    box-shadow: var(--shadow-profound);
    animation: menuSlideIn var(--duration-normal) ease-out;
    text-align: center;
}

.custom-audio-menu h3 {
    color: var(--text-primary);
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
    margin: 0 0 var(--space-md) 0;
}

.custom-audio-menu p {
    color: var(--text-secondary);
    font-size: var(--text-sm);
    margin: 0 0 var(--space-2xl) 0;
}

.menu-buttons {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.menu-btn {
    padding: 12px 24px;
    background: var(--glass-medium);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-natural);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.menu-btn:hover {
    background: var(--glass-heavy);
    transform: translateY(-2px);
    box-shadow: var(--glow-medium);
}

.menu-btn.primary {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    border-color: #4CAF50;
    color: white;
}

.menu-btn.primary:hover {
    box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
}

.menu-btn.secondary {
    background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
    border-color: #ff9800;
    color: white;
}

.menu-btn.secondary:hover {
    box-shadow: 0 8px 25px rgba(255, 152, 0, 0.4);
}

/* ä¸Šä¼ è¿›åº¦ */
.upload-progress {
    margin-top: var(--space-xl);
    text-align: center;
}

.progress-bar {
    width: 100%;
    height: 6px;
    background: var(--glass-medium);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: var(--space-md);
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #4CAF50 0%, #81C784 100%);
    border-radius: 3px;
    transition: width var(--duration-fast) ease-out;
    animation: progressShimmer 1.5s ease-in-out infinite;
}

.progress-text {
    color: var(--text-secondary);
    font-size: var(--text-sm);
}

@keyframes progressShimmer {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
}

@keyframes menuFadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes menuSlideIn {
    from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* 
===== å“åº”å¼è®¾è®¡ ===== 
*/

@media (max-width: 768px) {
    .mode-switcher {
        margin: var(--space-md) 0 var(--space-xl) 0;
    }
    
    .mode-btn {
        padding: 10px 20px;
        min-width: 100px;
        font-size: var(--text-xs);
    }
    
    .custom-audio-menu .menu-content {
        padding: var(--space-2xl);
        width: 95%;
    }
    
    .menu-buttons {
        gap: var(--space-sm);
    }
    
    .menu-btn {
        padding: 10px 20px;
        font-size: var(--text-xs);
    }
}

@media (max-width: 480px) {
    .mode-btn {
        padding: 8px 16px;
        min-width: 80px;
        gap: 4px;
    }
    
    .mode-btn .mode-name {
        display: none;
    }
}

/* å‡å°‘åŠ¨ç”»åå¥½é€‚é… */
@media (prefers-reduced-motion: reduce) {
    .mode-btn {
        transition: none;
    }
    
    .sound-btn.custom::after {
        animation: none;
    }
    
    .progress-fill {
        animation: none;
    }
    
    .custom-audio-menu {
        animation: none;
    }
    
    .custom-audio-menu .menu-content {
        animation: none;
    }
}

/* 
===== ç©ºçŠ¶æ€æ ·å¼ ===== 
*/

.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-4xl) var(--space-xl);
    text-align: center;
    opacity: 0.6;
}

.empty-icon {
    font-size: 3rem;
    margin-bottom: var(--space-lg);
    opacity: 0.5;
}

.empty-text {
    color: var(--text-primary);
    font-size: var(--text-lg);
    font-weight: var(--font-medium);
    margin-bottom: var(--space-sm);
}

.empty-description {
    color: var(--text-tertiary);
    font-size: var(--text-sm);
}

/* 
===== æ¶¤æ¼ªæ•ˆæœ ===== 
*/

.sound-btn {
    position: relative;
    overflow: hidden;
}

.ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: scale(0);
    animation: rippleEffect 0.6s ease-out;
    pointer-events: none;
}

@keyframes rippleEffect {
    0% {
        transform: scale(0);
        opacity: 1;
    }
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

/* 
===== ä¸Šä¼ é€šçŸ¥æ ·å¼ ===== 
*/

.upload-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 10000;
    background: var(--glass-dark);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    padding: 0;
    box-shadow: var(--shadow-float);
    border: 1px solid var(--glass-border-light);
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.3s var(--ease-natural);
    animation: slideInNotification 0.3s var(--ease-natural) forwards;
    max-width: 400px;
    min-width: 300px;
}

.upload-notification.success {
    border-left: 4px solid #4CAF50;
}

.upload-notification.error {
    border-left: 4px solid #f44336;
}

.upload-notification.info {
    border-left: 4px solid #2196F3;
}

.notification-content {
    display: flex;
    align-items: center;
    padding: 16px;
    gap: 12px;
}

.notification-icon {
    font-size: 18px;
    font-weight: bold;
    min-width: 24px;
    text-align: center;
}

.upload-notification.success .notification-icon {
    color: #4CAF50;
}

.upload-notification.error .notification-icon {
    color: #f44336;
}

.upload-notification.info .notification-icon {
    color: #2196F3;
}

.notification-message {
    flex: 1;
    color: var(--text-primary);
    font-size: 14px;
    line-height: 1.4;
}

.notification-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 18px;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: all 0.2s ease;
    min-width: 24px;
    text-align: center;
}

.notification-close:hover {
    background: var(--glass-light);
    color: var(--text-primary);
}

@keyframes slideInNotification {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* å¢å¼ºè¿›åº¦æ¡åŠ¨ç”» */
.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: progressShimmer 1.5s infinite;
}

@keyframes progressShimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* 
===== ä¸Šä¸‹æ–‡èœå•æ ·å¼ ===== 
*/

.context-menu {
    position: fixed;
    z-index: 10001;
    background: var(--glass-dark);
    backdrop-filter: blur(15px);
    border-radius: 12px;
    border: 1px solid var(--glass-border-light);
    box-shadow: var(--shadow-float);
    padding: 8px;
    min-width: 200px;
    opacity: 0;
    transform: scale(0.9) translateY(-10px);
    transition: all 0.2s var(--ease-natural);
    pointer-events: none;
}

.context-menu.show {
    opacity: 1;
    transform: scale(1) translateY(0);
    pointer-events: auto;
}

.context-menu-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-bottom: 1px solid var(--glass-border-medium);
    margin-bottom: 4px;
}

.menu-icon {
    font-size: 16px;
}

.menu-title {
    color: var(--text-primary);
    font-weight: var(--font-medium);
    font-size: 14px;
}

.context-menu-items {
    padding: 4px 0;
}

.menu-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 6px;
    margin: 2px 4px;
    transition: all 0.15s ease;
    color: var(--text-primary);
}

.menu-item:hover {
    background: var(--glass-medium);
    color: var(--text-primary);
}

.menu-item-icon {
    font-size: 14px;
    min-width: 16px;
    text-align: center;
}

.menu-item-text {
    font-size: 13px;
    flex: 1;
}

.menu-separator {
    height: 1px;
    background: var(--glass-border-medium);
    margin: 4px 8px;
    opacity: 0.5;
}

/* å¿«æ·æç¤º */
.sound-btn {
    position: relative;
}

.sound-btn::before {
    content: 'é•¿æŒ‰æˆ–å³é”®èœå•';
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--glass-dark);
    color: var(--text-secondary);
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 1000;
}

.sound-btn:hover::before {
    opacity: 0.8;
    animation: fadeInTooltip 0.3s ease;
}

@keyframes fadeInTooltip {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(5px);
    }
    to {
        opacity: 0.8;
        transform: translateX(-50%) translateY(0);
    }
}

/* 
===== éŸ³æ•ˆé¢„è§ˆçŠ¶æ€æç¤ºæ ·å¼ ===== 
*/

.preview-status {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--glass-dark);
    backdrop-filter: blur(15px);
    border-radius: 8px;
    border: 1px solid var(--glass-border-light);
    padding: 12px 20px;
    color: var(--text-primary);
    font-size: 14px;
    font-weight: var(--font-medium);
    box-shadow: var(--shadow-float);
    z-index: 10002;
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9);
    animation: showPreviewStatus 0.3s ease forwards;
    pointer-events: none;
}

.preview-status.success {
    border-color: var(--success-color);
    background: rgba(56, 161, 105, 0.1);
    color: var(--success-color);
}

.preview-status.error {
    border-color: var(--error-color);
    background: rgba(229, 62, 62, 0.1);
    color: var(--error-color);
}

.preview-status.info {
    border-color: var(--info-color);
    background: rgba(49, 130, 206, 0.1);
    color: var(--info-color);
}

@keyframes showPreviewStatus {
    to {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

/* 
===== éŸ³é‡æ§åˆ¶å¼¹çª—æ ·å¼ ===== 
*/

.sound-volume-control {
    position: fixed;
    z-index: 10003;
    background: var(--glass-dark);
    backdrop-filter: blur(20px);
    border-radius: 16px;
    border: 1px solid var(--glass-border-medium);
    box-shadow: var(--shadow-elevated);
    padding: 24px;
    min-width: 320px;
    opacity: 0;
    transform: scale(0.9) translateY(-20px);
    transition: all 0.3s var(--ease-natural);
    pointer-events: none;
}

.sound-volume-control.show {
    opacity: 1;
    transform: scale(1) translateY(0);
    pointer-events: auto;
}

.volume-control-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--glass-border-light);
}

.volume-control-title {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--text-primary);
    font-weight: var(--font-semibold);
    font-size: 16px;
}

.volume-control-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 18px;
    cursor: pointer;
    padding: 4px;
    border-radius: 6px;
    transition: all 0.2s ease;
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.volume-control-close:hover {
    background: var(--glass-medium);
    color: var(--text-primary);
}

.volume-slider-container {
    margin: 20px 0;
}

.volume-slider {
    width: 100%;
    height: 6px;
    background: var(--glass-light);
    border-radius: 3px;
    outline: none;
    cursor: pointer;
    transition: all 0.2s ease;
    appearance: none;
    -webkit-appearance: none;
}

.volume-slider::-webkit-slider-thumb {
    appearance: none;
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: var(--text-primary);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
}

.volume-slider::-webkit-slider-thumb:hover {
    background: var(--text-primary);
    box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.1);
    transform: scale(1.1);
}

.volume-slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: var(--text-primary);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
}

.volume-slider::-moz-range-thumb:hover {
    background: var(--text-primary);
    box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.1);
    transform: scale(1.1);
}

.volume-value {
    text-align: center;
    color: var(--text-primary);
    font-weight: var(--font-medium);
    font-size: 18px;
    margin-top: 12px;
    padding: 8px;
    background: var(--glass-light);
    border-radius: 8px;
}

.volume-presets {
    display: flex;
    gap: 8px;
    margin-top: 16px;
    justify-content: center;
}

.volume-preset-btn {
    background: var(--glass-light);
    border: 1px solid var(--glass-border-light);
    color: var(--text-secondary);
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.2s ease;
    min-width: 40px;
    text-align: center;
}

.volume-preset-btn:hover {
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
    color: var(--text-primary);
    transform: translateY(-1px);
}

.volume-preset-btn:active {
    transform: translateY(0);
}

.volume-control-actions {
    display: flex;
    gap: 12px;
    margin-top: 20px;
    padding-top: 16px;
    border-top: 1px solid var(--glass-border-light);
}

.volume-action-btn {
    flex: 1;
    background: var(--glass-medium);
    border: 1px solid var(--glass-border-medium);
    color: var(--text-primary);
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 13px;
    font-weight: var(--font-medium);
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.volume-action-btn:hover {
    background: var(--glass-heavy);
    border-color: var(--glass-border-heavy);
    transform: translateY(-1px);
}

.volume-action-btn:active {
    transform: translateY(0);
}

.volume-action-btn.primary {
    background: var(--forest-theme);
    border-color: var(--forest-ambient);
    color: white;
}

.volume-action-btn.primary:hover {
    background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
    box-shadow: 0 0 15px var(--forest-glow);
}

/* éŸ³é‡æ§åˆ¶å“åº”å¼è®¾è®¡ */
@media (max-width: 480px) {
    .sound-volume-control {
        min-width: calc(100vw - 40px);
        margin: 0 20px;
    }
    
    .volume-presets {
        flex-wrap: wrap;
    }
    
    .volume-control-actions {
        flex-direction: column;
    }
}

/* éŸ³é‡æ§åˆ¶åŠ¨ç”»å¢å¼º */
@keyframes volumeSliderGlow {
    0% {
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);
    }
    70% {
        box-shadow: 0 0 0 6px rgba(255, 255, 255, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
    }
}

.volume-slider:focus::-webkit-slider-thumb {
    animation: volumeSliderGlow 1s infinite;
}

.volume-slider:focus::-moz-range-thumb {
    animation: volumeSliderGlow 1s infinite;
}

/* 
===== é€šçŸ¥ç®¡ç†å™¨æ ·å¼ ===== 
*/

.notification-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 10000;
    max-width: 400px;
    pointer-events: none;
}

.notification {
    background: var(--glass-dark);
    backdrop-filter: blur(20px);
    border-radius: 12px;
    border: 1px solid var(--glass-border-medium);
    box-shadow: var(--shadow-elevated);
    margin-bottom: 12px;
    min-width: 300px;
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.4s var(--ease-natural);
    pointer-events: auto;
    overflow: hidden;
    position: relative;
}

.notification.show {
    opacity: 1;
    transform: translateX(0);
}

.notification.hide {
    opacity: 0;
    transform: translateX(100%) scale(0.9);
    margin-bottom: 0;
    max-height: 0;
}

.notification-content {
    display: flex;
    align-items: flex-start;
    padding: 16px;
    gap: 12px;
}

.notification-icon {
    font-size: 18px;
    min-width: 24px;
    text-align: center;
    line-height: 1;
    margin-top: 2px;
}

.notification-message {
    flex: 1;
    color: var(--text-primary);
    font-size: 14px;
    line-height: 1.4;
    word-wrap: break-word;
}

.notification-close {
    position: absolute;
    top: 8px;
    right: 8px;
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 18px;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: all 0.2s ease;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.7;
}

.notification-close:hover {
    background: var(--glass-medium);
    color: var(--text-primary);
    opacity: 1;
}

/* é€šçŸ¥ç±»å‹æ ·å¼ */
.notification-success {
    border-left: 4px solid var(--success-color);
}

.notification-success .notification-icon {
    color: var(--success-color);
}

.notification-error {
    border-left: 4px solid var(--error-color);
}

.notification-error .notification-icon {
    color: var(--error-color);
}

.notification-warning {
    border-left: 4px solid var(--warning-color);
}

.notification-warning .notification-icon {
    color: var(--warning-color);
}

.notification-info {
    border-left: 4px solid var(--info-color);
}

.notification-info .notification-icon {
    color: var(--info-color);
}

.notification-loading {
    border-left: 4px solid var(--text-secondary);
}

.notification-loading .notification-icon {
    color: var(--text-secondary);
    animation: notificationPulse 1.5s ease-in-out infinite;
}

@keyframes notificationPulse {
    0%, 100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.6;
        transform: scale(1.1);
    }
}

/* è¿›åº¦æ¡æ ·å¼ */
.notification-progress {
    height: 3px;
    background: var(--glass-light);
    overflow: hidden;
    position: relative;
}

.notification-progress-bar {
    height: 100%;
    background: var(--info-color);
    transition: width 0.3s ease;
    position: relative;
}

.notification-progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: -50%;
    width: 50%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.3), 
        transparent
    );
    animation: progressShine 1.5s infinite;
}

@keyframes progressShine {
    0% { left: -50%; }
    100% { left: 100%; }
}

/* æ“ä½œæŒ‰é’®æ ·å¼ */
.notification-actions {
    display: flex;
    gap: 8px;
    padding: 0 16px 16px;
    justify-content: flex-end;
}

.notification-action-btn {
    background: var(--glass-medium);
    border: 1px solid var(--glass-border-medium);
    color: var(--text-primary);
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    font-weight: var(--font-medium);
    transition: all 0.2s ease;
    min-width: 60px;
}

.notification-action-btn:hover {
    background: var(--glass-heavy);
    border-color: var(--glass-border-heavy);
    transform: translateY(-1px);
}

.notification-action-btn:active {
    transform: translateY(0);
}

.notification-action-btn.primary {
    background: var(--info-color);
    border-color: var(--info-color);
    color: white;
}

.notification-action-btn.primary:hover {
    background: #4299e1;
    box-shadow: 0 0 10px var(--info-glow);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 480px) {
    .notification-container {
        top: 10px;
        right: 10px;
        left: 10px;
        max-width: none;
    }
    
    .notification {
        min-width: auto;
        margin-bottom: 8px;
    }
    
    .notification-content {
        padding: 14px;
    }
    
    .notification-message {
        font-size: 13px;
    }
    
    .notification-actions {
        flex-direction: column;
        padding: 0 14px 14px;
    }
}

/* é€šçŸ¥å †å æ•ˆæœ */
.notification:nth-child(2) {
    transform: translateX(0) scale(0.98) translateY(-8px);
    opacity: 0.9;
    z-index: -1;
}

.notification:nth-child(3) {
    transform: translateX(0) scale(0.96) translateY(-16px);
    opacity: 0.8;
    z-index: -2;
}

.notification:nth-child(n+4) {
    display: none;
}

/* ç‰¹æ®Šé€šçŸ¥æ ·å¼ */
.notification.urgent {
    animation: notificationUrgent 2s ease-in-out infinite;
}

@keyframes notificationUrgent {
    0%, 100% {
        box-shadow: var(--shadow-elevated);
    }
    50% {
        box-shadow: var(--shadow-elevated), 0 0 20px var(--error-glow);
    }
}

.notification.persistent::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, 
        var(--info-color), 
        var(--success-color), 
        var(--warning-color), 
        var(--info-color)
    );
    background-size: 200% 100%;
    animation: persistentIndicator 3s linear infinite;
}

@keyframes persistentIndicator {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* ===== å³é”®èœå•æ ·å¼ ===== */
.context-menu {
    position: fixed;
    background: var(--glass-heavy);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-elevated);
    z-index: 9999;
    opacity: 0;
    transform: scale(0.95) translateY(-10px);
    transition: all var(--duration-fast) var(--ease-back);
    min-width: 200px;
    max-width: 280px;
    overflow: hidden;
}

.context-menu.show {
    opacity: 1;
    transform: scale(1) translateY(0);
}

/* èœå•å¤´éƒ¨ */
.context-menu-header {
    padding: var(--space-md) var(--space-lg);
    background: var(--glass-medium);
    border-bottom: 1px solid var(--glass-border-light);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.menu-icon {
    font-size: var(--text-lg);
    opacity: 0.9;
}

.menu-title {
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    color: var(--text-primary);
    opacity: 0.95;
}

/* èœå•é¡¹å®¹å™¨ */
.context-menu-items {
    padding: var(--space-xs) 0;
}

/* èœå•é¡¹ */
.menu-item {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-sm) var(--space-lg);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-natural);
    color: var(--text-secondary);
    font-size: var(--text-sm);
    min-height: 44px; /* æ— éšœç¢æœ€å°è§¦æ§åŒºåŸŸ */
}

.menu-item:hover {
    background: var(--glass-light);
    color: var(--text-primary);
    transform: translateX(2px);
}

.menu-item:active {
    background: var(--glass-medium);
    transform: translateX(1px);
}

/* å±é™©æ“ä½œæ ·å¼ */
.menu-item.dangerous {
    color: var(--error-color);
}

.menu-item.dangerous:hover {
    background: rgba(229, 62, 62, 0.1);
    color: #ff6b6b;
}

/* èœå•å›¾æ ‡ */
.menu-item-icon {
    font-size: var(--text-base);
    opacity: 0.8;
    min-width: 20px;
    text-align: center;
}

.menu-item-text {
    flex: 1;
    font-weight: var(--font-medium);
}

/* åˆ†å‰²çº¿ */
.menu-separator {
    height: 1px;
    background: var(--glass-border-light);
    margin: var(--space-xs) var(--space-md);
    opacity: 0.6;
}

/* ===== ç¡®è®¤å¯¹è¯æ¡†æ ·å¼ ===== */
.confirmation-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: all var(--duration-normal) var(--ease-natural);
}

.confirmation-modal.show {
    opacity: 1;
}

/* æ¨¡æ€èƒŒæ™¯ */
.modal-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
}

/* æ¨¡æ€å†…å®¹ */
.modal-content {
    position: relative;
    background: var(--glass-heavy);
    backdrop-filter: blur(25px);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-profound);
    max-width: 400px;
    width: 90%;
    max-height: 80vh;
    overflow: hidden;
    transform: scale(0.9) translateY(-20px);
    transition: all var(--duration-normal) var(--ease-back);
}

.confirmation-modal.show .modal-content {
    transform: scale(1) translateY(0);
}

/* æ¨¡æ€å¤´éƒ¨ */
.modal-header {
    padding: var(--space-xl) var(--space-xl) var(--space-lg);
    border-bottom: 1px solid var(--glass-border-light);
}

.modal-header h3 {
    margin: 0;
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
    color: var(--text-primary);
    text-align: center;
}

/* æ¨¡æ€å†…å®¹åŒº */
.modal-body {
    padding: var(--space-lg) var(--space-xl);
    line-height: var(--leading-relaxed);
}

.modal-body p {
    margin: 0 0 var(--space-md) 0;
    color: var(--text-secondary);
    font-size: var(--text-base);
}

.modal-body p:last-child {
    margin-bottom: 0;
}

/* è­¦å‘Šæ–‡æœ¬ */
.warning-text {
    color: var(--warning-color) !important;
    font-size: var(--text-sm) !important;
    font-weight: var(--font-medium);
    padding: var(--space-sm) var(--space-md);
    background: rgba(214, 158, 46, 0.1);
    border: 1px solid rgba(214, 158, 46, 0.2);
    border-radius: var(--radius-sm);
    margin-top: var(--space-lg) !important;
}

/* æ¨¡æ€æ“ä½œåŒº */
.modal-actions {
    padding: var(--space-lg) var(--space-xl) var(--space-xl);
    display: flex;
    gap: var(--space-md);
    justify-content: flex-end;
}

/* æŒ‰é’®æ ·å¼ */
.modal-actions button {
    padding: var(--space-md) var(--space-xl);
    border: 1px solid var(--glass-border-medium);
    border-radius: var(--radius-md);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-natural);
    min-width: 80px;
    min-height: 44px; /* æ— éšœç¢æœ€å°è§¦æ§åŒºåŸŸ */
    font-family: var(--font-primary);
}

/* å–æ¶ˆæŒ‰é’® */
.btn-cancel {
    background: var(--glass-medium);
    color: var(--text-primary);
    border-color: var(--glass-border-medium);
}

.btn-cancel:hover {
    background: var(--glass-heavy);
    border-color: var(--glass-border-heavy);
    transform: translateY(-1px);
}

.btn-cancel:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
}

/* ç¡®è®¤æŒ‰é’®ï¼ˆå±é™©æ“ä½œï¼‰ */
.btn-confirm.dangerous {
    background: var(--error-color);
    color: white;
    border-color: var(--error-color);
}

.btn-confirm.dangerous:hover {
    background: #c53030;
    border-color: #c53030;
    box-shadow: 0 0 15px var(--error-glow);
    transform: translateY(-1px);
}

.btn-confirm.dangerous:focus {
    outline: 2px solid var(--error-color);
    outline-offset: 2px;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 480px) {
    .context-menu {
        min-width: 180px;
        max-width: calc(100vw - 40px);
    }
    
    .modal-content {
        width: 95%;
        margin: var(--space-lg);
    }
    
    .modal-actions {
        flex-direction: column;
    }
    
    .modal-actions button {
        width: 100%;
    }
}

/* æ— éšœç¢æ”¯æŒ */
@media (prefers-reduced-motion: reduce) {
    .context-menu,
    .confirmation-modal,
    .modal-content {
        transition: opacity var(--duration-instant);
    }
    
    .context-menu.show,
    .confirmation-modal.show .modal-content {
        transform: none;
    }
}

/* ===== å­¦ä¹ é…æ–¹åŠŸèƒ½æ ·å¼ ===== */

/* é…æ–¹æ§åˆ¶åŒºåŸŸ */
.recipe-control {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-md);
    margin-top: var(--space-lg);
}

.recipe-control label {
    font-family: var(--font-primary);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: var(--space-sm);
}

/* é…æ–¹æŒ‰é’®ç»„ */
.recipe-buttons {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
    justify-content: center;
}

/* é…æ–¹æŒ‰é’®åŸºæœ¬æ ·å¼ */
.recipe-btn {
    /* åŸºç¡€å°ºå¯¸ */
    padding: var(--space-md) var(--space-lg);
    min-height: 44px; /* æ— éšœç¢æ€§è§¦æ§åŒºåŸŸ */
    
    /* æ¯›ç»ç’ƒæ•ˆæœ */
    background: var(--glass-light);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-md);
    
    /* æ–‡å­—æ ·å¼ */
    font-family: var(--font-primary);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    color: var(--text-primary);
    
    /* äº¤äº’æ ·å¼ */
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    
    /* é˜´å½±æ•ˆæœ */
    box-shadow: var(--shadow-float);
    
    /* é˜²æ­¢é€‰ä¸­ */
    user-select: none;
    -webkit-user-select: none;
}

/* ä¸»è¦é…æ–¹æŒ‰é’® */
.recipe-btn.primary {
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
    color: var(--text-primary);
}

/* æ¬¡è¦é…æ–¹æŒ‰é’® */
.recipe-btn.secondary {
    background: var(--glass-light);
    border-color: var(--glass-border-light);
    color: var(--text-secondary);
}

/* é…æ–¹æŒ‰é’®æ‚¬åœæ•ˆæœ */
.recipe-btn:hover:not(:disabled) {
    transform: translateY(-2px) scale(1.02);
    background: var(--glass-heavy);
    border-color: var(--glass-border-heavy);
    box-shadow: var(--shadow-elevated);
    color: var(--text-primary);
}

/* é…æ–¹æŒ‰é’®æŒ‰ä¸‹æ•ˆæœ */
.recipe-btn:active:not(:disabled) {
    transform: translateY(0) scale(0.98);
    transition-duration: var(--duration-fast);
}

/* ç¦ç”¨çŠ¶æ€ */
.recipe-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    background: var(--glass-light);
    border-color: var(--glass-border-light);
    color: var(--text-disabled);
}

/* æ— éšœç¢æ€§ï¼šé…æ–¹æŒ‰é’®ç„¦ç‚¹çŠ¶æ€ */
.recipe-btn:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
    box-shadow: 
        var(--shadow-float),
        0 0 0 2px rgba(76, 175, 80, 0.3);
}

/* é…æ–¹å¼¹çª—åŸºç¡€æ ·å¼ */
.recipe-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-lg);
    animation: fadeIn var(--duration-normal) var(--ease-natural);
}

/* å¼¹çª—é®ç½© */
.recipe-modal .modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 1;
}

/* å¼¹çª—å†…å®¹åŒºåŸŸ */
.recipe-modal .modal-content {
    position: relative;
    width: 100%;
    max-width: 500px;
    max-height: 80vh;
    overflow-y: auto;
    z-index: 2;
    
    /* æ¯›ç»ç’ƒæ•ˆæœ */
    background: var(--glass-heavy);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border-heavy);
    border-radius: var(--radius-lg);
    
    /* é˜´å½±æ•ˆæœ */
    box-shadow: var(--shadow-deep);
    
    /* å…¥åœºåŠ¨ç”» */
    animation: slideInScale var(--duration-slower) var(--ease-back);
}

@keyframes slideInScale {
    0% {
        opacity: 0;
        transform: scale(0.8) translateY(20px);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* å¼¹çª—å¤´éƒ¨ */
.recipe-modal .modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-xl) var(--space-xl) var(--space-lg);
    border-bottom: 1px solid var(--glass-border-light);
}

.recipe-modal .modal-header h3 {
    font-family: var(--font-primary);
    font-size: var(--text-xl);
    font-weight: var(--font-medium);
    color: var(--text-primary);
    margin: 0;
}

/* å…³é—­æŒ‰é’® */
.recipe-modal .close-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: var(--glass-light);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-radius: var(--radius-full);
    color: var(--text-secondary);
    font-size: var(--text-lg);
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    display: flex;
    align-items: center;
    justify-content: center;
}

.recipe-modal .close-btn:hover {
    background: var(--glass-medium);
    color: var(--text-primary);
    transform: scale(1.1);
}

.recipe-modal .close-btn:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
}

/* å¼¹çª—ä¸»ä½“ */
.recipe-modal .modal-body {
    padding: var(--space-xl);
}

/* é…æ–¹é¢„è§ˆåŒºåŸŸ */
.recipe-preview {
    margin-bottom: var(--space-xl);
    padding: var(--space-lg);
    background: var(--glass-light);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-md);
}

.recipe-preview h4 {
    font-family: var(--font-primary);
    font-size: var(--text-md);
    font-weight: var(--font-medium);
    color: var(--text-primary);
    margin: 0 0 var(--space-md) 0;
}

/* æ··éŸ³é¢„è§ˆ */
.mix-preview {
    margin-bottom: var(--space-md);
}

.mix-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-sm) var(--space-md);
    margin-bottom: var(--space-sm);
    background: var(--glass-light);
    border-radius: var(--radius-sm);
    border: 1px solid var(--glass-border-light);
}

.mix-item:last-child {
    margin-bottom: 0;
}

.mix-item-info {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.mix-item-icon {
    font-size: var(--text-lg);
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

.mix-item-name {
    font-family: var(--font-primary);
    font-size: var(--text-sm);
    color: var(--text-primary);
    font-weight: var(--font-medium);
}

.mix-item-volume {
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    color: var(--text-secondary);
    font-weight: var(--font-medium);
}

/* å®šæ—¶å™¨é¢„è§ˆ */
.timer-preview {
    padding: var(--space-sm) var(--space-md);
    background: var(--glass-light);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-sm);
    text-align: center;
}

.timer-preview span {
    font-family: var(--font-primary);
    font-size: var(--text-sm);
    color: var(--text-secondary);
    font-weight: var(--font-medium);
}

/* é…æ–¹è¡¨å• */
.recipe-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.recipe-form label {
    font-family: var(--font-primary);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
}

.recipe-form input {
    width: 100%;
    padding: var(--space-md);
    background: var(--glass-light);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-md);
    font-family: var(--font-primary);
    font-size: var(--text-md);
    color: var(--text-primary);
    transition: all var(--duration-normal) var(--ease-natural);
}

.recipe-form input::placeholder {
    color: var(--text-disabled);
}

.recipe-form input:focus {
    outline: none;
    border-color: var(--accent-color);
    background: var(--glass-medium);
    box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
}

/* è¡¨å•æŒ‰é’®ç»„ */
.form-buttons {
    display: flex;
    gap: var(--space-md);
    justify-content: flex-end;
}

.form-buttons .btn {
    padding: var(--space-md) var(--space-xl);
    border: none;
    border-radius: var(--radius-md);
    font-family: var(--font-primary);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    min-width: 80px;
    min-height: 44px;
}

.form-buttons .btn.primary {
    background: var(--glass-heavy);
    border: 1px solid var(--glass-border-heavy);
    color: var(--text-primary);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

.form-buttons .btn.secondary {
    background: var(--glass-light);
    border: 1px solid var(--glass-border-light);
    color: var(--text-secondary);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

.form-buttons .btn:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: var(--shadow-float);
}

.form-buttons .btn.primary:hover:not(:disabled) {
    background: var(--glass-ultra);
    color: var(--text-primary);
}

.form-buttons .btn.secondary:hover:not(:disabled) {
    background: var(--glass-medium);
    color: var(--text-primary);
}

.form-buttons .btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* é…æ–¹åˆ—è¡¨å®¹å™¨ */
.recipe-list-container {
    max-height: 400px;
    overflow-y: auto;
    margin-bottom: var(--space-lg);
}

/* é…æ–¹é¡¹ç›® */
.recipe-item {
    padding: var(--space-lg);
    margin-bottom: var(--space-md);
    background: var(--glass-light);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-md);
    transition: all var(--duration-normal) var(--ease-natural);
    cursor: pointer;
}

.recipe-item:hover {
    background: var(--glass-medium);
    border-color: var(--glass-border-medium);
    transform: translateY(-2px);
    box-shadow: var(--shadow-float);
}

.recipe-item:last-child {
    margin-bottom: 0;
}

/* é…æ–¹ä¿¡æ¯ */
.recipe-info {
    margin-bottom: var(--space-md);
}

.recipe-name {
    font-family: var(--font-primary);
    font-size: var(--text-lg);
    font-weight: var(--font-medium);
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.recipe-created {
    font-family: var(--font-primary);
    font-size: var(--text-xs);
    color: var(--text-disabled);
}

/* é…æ–¹å†…å®¹ */
.recipe-content {
    margin-bottom: var(--space-md);
}

.recipe-mix {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-bottom: var(--space-sm);
}

.recipe-sound {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--glass-light);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-sm);
    font-size: var(--text-xs);
    color: var(--text-secondary);
}

.recipe-timer {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--glass-light);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-sm);
    font-size: var(--text-xs);
    color: var(--text-secondary);
}

/* é…æ–¹æ“ä½œæŒ‰é’® */
.recipe-actions {
    display: flex;
    gap: var(--space-sm);
    justify-content: flex-end;
}

.recipe-action-btn {
    padding: var(--space-sm) var(--space-md);
    background: var(--glass-light);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border-light);
    border-radius: var(--radius-sm);
    font-family: var(--font-primary);
    font-size: var(--text-xs);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-natural);
    min-height: 32px;
}

.recipe-action-btn:hover {
    background: var(--glass-medium);
    color: var(--text-primary);
    transform: scale(1.05);
}

.recipe-action-btn.primary {
    background: var(--glass-medium);
    color: var(--text-primary);
}

.recipe-action-btn.danger {
    color: var(--error-color);
    border-color: rgba(229, 62, 62, 0.3);
}

.recipe-action-btn.danger:hover {
    background: rgba(229, 62, 62, 0.1);
    border-color: var(--error-color);
    color: var(--error-color);
}

/* åˆ—è¡¨æ“ä½œåŒºåŸŸ */
.list-actions {
    display: flex;
    justify-content: center;
    padding-top: var(--space-lg);
    border-top: 1px solid var(--glass-border-light);
}

/* ç©ºçŠ¶æ€ */
.recipe-empty {
    text-align: center;
    padding: var(--space-2xl);
    color: var(--text-disabled);
}

.recipe-empty-icon {
    font-size: 3rem;
    margin-bottom: var(--space-lg);
    opacity: 0.5;
}

.recipe-empty-text {
    font-family: var(--font-primary);
    font-size: var(--text-md);
    margin-bottom: var(--space-sm);
}

.recipe-empty-hint {
    font-family: var(--font-primary);
    font-size: var(--text-sm);
    opacity: 0.7;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .recipe-modal .modal-content {
        margin: var(--space-md);
        max-width: calc(100% - 2 * var(--space-md));
    }
    
    .recipe-buttons {
        flex-direction: column;
        align-items: center;
    }
    
    .recipe-btn {
        width: 100%;
        max-width: 200px;
    }
    
    .form-buttons {
        flex-direction: column;
    }
    
    .form-buttons .btn {
        width: 100%;
    }
    
    .recipe-actions {
        flex-direction: column;
    }
    
    .recipe-action-btn {
        width: 100%;
    }
}

@media (max-height: 600px) {
    .recipe-modal .modal-content {
        max-height: 90vh;
    }
    
    .recipe-list-container {
        max-height: 300px;
    }
}

/* æ— éšœç¢æ€§å¢å¼º */
@media (prefers-reduced-motion: reduce) {
    .recipe-modal .modal-content {
        animation: none;
    }
    
    .recipe-modal {
        animation: none;
    }
}

/* é«˜å¯¹æ¯”åº¦æ¨¡å¼é€‚é… */
@media (prefers-contrast: high) {
    .recipe-btn {
        border-width: 2px;
    }
    
    .recipe-modal .modal-content {
        border-width: 2px;
    }
    
    .recipe-item {
        border-width: 2px;
    }
}